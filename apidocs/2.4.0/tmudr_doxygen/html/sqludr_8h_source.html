<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>tmudr: sqludr.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>sqludr.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef SQLUDR_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="comment">/**********************************************************************</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * File:         sqludr.h</span>
<a name="l00006"></a>00006 <span class="comment"> * Description:  Interface between the SQL engine and routine bodies</span>
<a name="l00007"></a>00007 <span class="comment"> * Language:     C</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment">// @@@ START COPYRIGHT @@@</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// Licensed to the Apache Software Foundation (ASF) under one</span>
<a name="l00012"></a>00012 <span class="comment">// or more contributor license agreements.  See the NOTICE file</span>
<a name="l00013"></a>00013 <span class="comment">// distributed with this work for additional information</span>
<a name="l00014"></a>00014 <span class="comment">// regarding copyright ownership.  The ASF licenses this file</span>
<a name="l00015"></a>00015 <span class="comment">// to you under the Apache License, Version 2.0 (the</span>
<a name="l00016"></a>00016 <span class="comment">// &quot;License&quot;); you may not use this file except in compliance</span>
<a name="l00017"></a>00017 <span class="comment">// with the License.  You may obtain a copy of the License at</span>
<a name="l00018"></a>00018 <span class="comment">//</span>
<a name="l00019"></a>00019 <span class="comment">//   http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 <span class="comment">// Unless required by applicable law or agreed to in writing,</span>
<a name="l00022"></a>00022 <span class="comment">// software distributed under the License is distributed on an</span>
<a name="l00023"></a>00023 <span class="comment">// &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span>
<a name="l00024"></a>00024 <span class="comment">// KIND, either express or implied.  See the License for the</span>
<a name="l00025"></a>00025 <span class="comment">// specific language governing permissions and limitations</span>
<a name="l00026"></a>00026 <span class="comment">// under the License.</span>
<a name="l00027"></a>00027 <span class="comment">//</span>
<a name="l00028"></a>00028 <span class="comment">// @@@ END COPYRIGHT @@@</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> *********************************************************************/</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">/* Export declaration for DLL functions */</span>
<a name="l00033"></a>00033 <span class="preprocessor">#define SQLUDR_LIBFUNC</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">/* C type definitions */</span>
<a name="l00038"></a>00038 <span class="keyword">typedef</span> <span class="keywordtype">char</span>                  SQLUDR_CHAR;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">typedef</span> int8_t                SQLUDR_INT8;
<a name="l00041"></a>00041 <span class="keyword">typedef</span> uint8_t               SQLUDR_UINT8;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">typedef</span> int16_t               SQLUDR_INT16;
<a name="l00044"></a>00044 <span class="keyword">typedef</span> uint16_t              SQLUDR_UINT16;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="keyword">typedef</span> int32_t               SQLUDR_INT32;
<a name="l00047"></a>00047 <span class="keyword">typedef</span> uint32_t              SQLUDR_UINT32;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="keyword">typedef</span> int64_t               SQLUDR_INT64;
<a name="l00050"></a>00050 <span class="keyword">typedef</span> uint64_t              SQLUDR_UINT64;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="keyword">typedef</span> <span class="keywordtype">float</span>                 SQLUDR_REAL;
<a name="l00053"></a>00053 <span class="keyword">typedef</span> <span class="keywordtype">double</span>                SQLUDR_DOUBLE;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="comment">/* UDR return codes */</span>
<a name="l00056"></a>00056 <span class="preprocessor">#define SQLUDR_SUCCESS                ( 0)</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_SUCCESS_WITH_WARNING   ( 1)</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_ERROR                  (-1)</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>
<a name="l00060"></a>00060 <span class="comment">/* NULL indicators */</span>
<a name="l00061"></a>00061 <span class="preprocessor">#define SQLUDR_NULL                   (-1)</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_NOTNULL                ( 0)</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span>
<a name="l00064"></a>00064 <span class="comment">/* To get the NULL indicator for an input value */</span>
<a name="l00065"></a>00065 <span class="preprocessor">#define SQLUDR_GETNULLIND(null_indicator)  \</span>
<a name="l00066"></a>00066 <span class="preprocessor">  ((((char*)(null_indicator))[1] &amp;&amp; 0x0080) ? SQLUDR_NULL : SQLUDR_NOTNULL)</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 <span class="comment">/* To set the NULL indicator for a return value */</span>
<a name="l00069"></a>00069 <span class="preprocessor">#define SQLUDR_SETNULLIND(null_indicator) \</span>
<a name="l00070"></a>00070 <span class="preprocessor">  (*((short *)(null_indicator)) = -1)</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span> 
<a name="l00072"></a>00072 <span class="comment">/* To clear the NULL indicator for a return value */</span>
<a name="l00073"></a>00073 <span class="preprocessor">#define SQLUDR_CLEARNULLIND(null_indicator) \</span>
<a name="l00074"></a>00074 <span class="preprocessor">  (*((short *)(null_indicator)) = 0)</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00076"></a>00076 <span class="comment">/* UDR call type */</span>
<a name="l00077"></a>00077 <span class="preprocessor">#define SQLUDR_CALLTYPE_INITIAL      ( 1)</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_CALLTYPE_NORMAL       ( 2)</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_CALLTYPE_FINAL        ( 3)</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span>
<a name="l00081"></a>00081 <span class="comment">/* Buffer sizes for user-defined errors. These sizes include a null</span>
<a name="l00082"></a>00082 <span class="comment">   terminator. */</span>
<a name="l00083"></a>00083 <span class="preprocessor">#define SQLUDR_SQLSTATE_SIZE        (  6)</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_MSGTEXT_SIZE         (256)</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 <span class="comment">/* UDR parameter styles */</span>  
<a name="l00087"></a>00087 <span class="keyword">enum</span> SQLUDR_PARAMSTYLE
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089   SQLUDR_PARAMSTYLE_SQL = 1,
<a name="l00090"></a>00090   SQLUDR_PARAMSTYLE_SQLROW = 2
<a name="l00091"></a>00091 };
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="comment">/* UDR row formats */</span>
<a name="l00094"></a>00094 <span class="keyword">enum</span> SQLUDR_ROWFORMAT
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096   SQLUDR_ROWFORMAT_EXPLODED = 1
<a name="l00097"></a>00097 };
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <span class="comment">/* Collations for character values */</span>
<a name="l00100"></a>00100 <span class="keyword">enum</span> SQLUDR_COLLATION
<a name="l00101"></a>00101 {
<a name="l00102"></a>00102   SQLUDR_COLLATION_UNKNOWN   = 0,
<a name="l00103"></a>00103   SQLUDR_COLLATION_DEFAULT   = 1,
<a name="l00104"></a>00104   SQLUDR_COLLATION_CZECH     = 2,
<a name="l00105"></a>00105   SQLUDR_COLLATION_CZECH_CI  = 3,
<a name="l00106"></a>00106   SQLUDR_COLLATION_SJIS      = 4
<a name="l00107"></a>00107 };
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="comment">/* SQLUDR_BUFFER structure */</span>
<a name="l00110"></a>00110 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00111"></a>00111 {
<a name="l00112"></a>00112   <span class="comment">/* Number of data bytes */</span>
<a name="l00113"></a>00113   SQLUDR_UINT32 length;
<a name="l00114"></a>00114   SQLUDR_INT32 reserved1;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <span class="comment">/* A pointer to the data */</span>
<a name="l00117"></a>00117   SQLUDR_CHAR *data;
<a name="l00118"></a>00118   SQLUDR_INT32 reserved2;
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 } SQLUDR_BUFFER;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 <span class="comment">/* SQLUDR_STATEAREA structure */</span>
<a name="l00123"></a>00123 <span class="preprocessor">#define SQLUDR_STATEAREA_CURRENT_VERSION   (   1)</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_STATEAREA_BUFFER_SIZE       (4096)</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127   <span class="comment">/* Version of this structure */</span>
<a name="l00128"></a>00128   SQLUDR_UINT16 version;
<a name="l00129"></a>00129   SQLUDR_UINT16 reserved1;
<a name="l00130"></a>00130   SQLUDR_UINT32 reserved2;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132   <span class="comment">/* A memory region that persists for the lifetime   */</span>
<a name="l00133"></a>00133   <span class="comment">/* of the host process.                             */</span>
<a name="l00134"></a>00134   SQLUDR_BUFFER host_data;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <span class="comment">/* A memory region that persists for the duration   */</span>
<a name="l00137"></a>00137   <span class="comment">/* of a single statement execution.                 */</span>
<a name="l00138"></a>00138   SQLUDR_BUFFER stmt_data;
<a name="l00139"></a>00139 
<a name="l00140"></a>00140   SQLUDR_INT64 reserved3;
<a name="l00141"></a>00141   SQLUDR_INT64 reserved4;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 } SQLUDR_STATEAREA;
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="comment">/* SQLUDR_VC_STRUCT structure for VARCHAR values */</span>
<a name="l00146"></a>00146 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00147"></a>00147 {
<a name="l00148"></a>00148   <span class="comment">/* Number of bytes */</span>
<a name="l00149"></a>00149   SQLUDR_UINT32 length;
<a name="l00150"></a>00150   SQLUDR_INT32 reserved1;
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">/* A pointer to the data */</span>
<a name="l00153"></a>00153   <span class="keywordtype">char</span> *data;
<a name="l00154"></a>00154   SQLUDR_INT32 reserved2;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 } SQLUDR_VC_STRUCT ;
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="comment">/* SQLUDR_PARAM structure */</span>
<a name="l00159"></a>00159 <span class="preprocessor">#define SQLUDR_PARAM_CURRENT_VERSION  1</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00161"></a>00161 {
<a name="l00162"></a>00162   <span class="comment">/* Version of this structure */</span>
<a name="l00163"></a>00163   SQLUDR_UINT16 version;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165   <span class="comment">/* Parameter type. Will be a value from the SQLTYPE_CODE   */</span>
<a name="l00166"></a>00166   <span class="comment">/* enumeration in sqlcli.h.                                */</span>
<a name="l00167"></a>00167   SQLUDR_INT16 datatype;
<a name="l00168"></a>00168 
<a name="l00169"></a>00169   <span class="keyword">union</span>
<a name="l00170"></a>00170   {
<a name="l00171"></a>00171     <span class="comment">/* Numeric scale. Valid when the SQL type is NUMERIC or  */</span>
<a name="l00172"></a>00172     <span class="comment">/* DECIMAL.                                              */</span>
<a name="l00173"></a>00173     SQLUDR_INT16 scale;
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <span class="comment">/* Character set. Valid when the SQL type is any         */</span>
<a name="l00176"></a>00176     <span class="comment">/* CHARACTER type. Will be a value from the              */</span>
<a name="l00177"></a>00177     <span class="comment">/* SQLCHARSET_CODE enumeration in sqlcli.h.              */</span>
<a name="l00178"></a>00178     SQLUDR_INT16 character_set;
<a name="l00179"></a>00179 
<a name="l00180"></a>00180     <span class="comment">/* Date/time code. Valid when the SQL type is            */</span>
<a name="l00181"></a>00181     <span class="comment">/* DATE, TIME, or TIMESTAMP. Will be a value from the    */</span>
<a name="l00182"></a>00182     <span class="comment">/* SQLDATETIME_CODE enumeration in sqlcli.h.             */</span>
<a name="l00183"></a>00183     SQLUDR_INT16 datetime_code;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <span class="comment">/* Interval type code. Valid when the SQL type is        */</span>
<a name="l00186"></a>00186     <span class="comment">/* INTERVAL. Will be a value from the SQLINTERVAL_CODE   */</span>
<a name="l00187"></a>00187     <span class="comment">/* enumeration in sqlcli.h. Note that this field is for  */</span>
<a name="l00188"></a>00188     <span class="comment">/* future use. INTERVAL parameters are not yet           */</span>
<a name="l00189"></a>00189     <span class="comment">/* supported.                                            */</span>
<a name="l00190"></a>00190     SQLUDR_INT16 interval_code;
<a name="l00191"></a>00191   } u1;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193   <span class="keyword">union</span>
<a name="l00194"></a>00194   {
<a name="l00195"></a>00195     <span class="comment">/* Numeric precision when the SQL type is NUMERIC or     */</span>
<a name="l00196"></a>00196     <span class="comment">/* DECIMAL. Number of digits of fractional precision     */</span>
<a name="l00197"></a>00197     <span class="comment">/* when the SQL type is TIME or TIMESTAMP.               */</span>
<a name="l00198"></a>00198     SQLUDR_INT16 precision;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="comment">/* Collation. Valid when the SQL type is any CHARACTER   */</span>
<a name="l00201"></a>00201     <span class="comment">/* type. Will be a value from the SQLUDR_COLLATION       */</span>
<a name="l00202"></a>00202     <span class="comment">/* enumeration in sqludr.h.                              */</span>
<a name="l00203"></a>00203     SQLUDR_INT16 collation;
<a name="l00204"></a>00204   } u2;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <span class="comment">/* Null-terminated parameter name */</span>
<a name="l00207"></a>00207   SQLUDR_CHAR *name;
<a name="l00208"></a>00208   SQLUDR_INT32 reserved1;
<a name="l00209"></a>00209 
<a name="l00210"></a>00210   <span class="comment">/* Maximum number of bytes in a valid data value */</span>
<a name="l00211"></a>00211   SQLUDR_UINT32 data_len;
<a name="l00212"></a>00212 
<a name="l00213"></a>00213   <span class="comment">/* Offset within the data region. Valid only for parameter */</span>
<a name="l00214"></a>00214   <span class="comment">/* style SQLROW.                                           */</span>
<a name="l00215"></a>00215   SQLUDR_UINT32 data_offset;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   <span class="comment">/* Offset of the two-byte null indicator. Valid only for   */</span>
<a name="l00218"></a>00218   <span class="comment">/* parameter style SQLROW.                                 */</span>
<a name="l00219"></a>00219   SQLUDR_UINT32 ind_offset;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221   <span class="comment">/* Offset of the four-byte VARCHAR length indicator.       */</span>
<a name="l00222"></a>00222   <span class="comment">/* Valid only for parameter style SQLROW when datatype     */</span>
<a name="l00223"></a>00223   <span class="comment">/* is SQLTYPECODE_VARCHAR_WITH_LENGTH.                     */</span>
<a name="l00224"></a>00224   SQLUDR_UINT32 vc_ind_offset;
<a name="l00225"></a>00225   SQLUDR_UINT8  vc_ind_len;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227   SQLUDR_INT8  reserved2;
<a name="l00228"></a>00228   SQLUDR_INT16 reserved3;
<a name="l00229"></a>00229   SQLUDR_INT32 reserved4;
<a name="l00230"></a>00230   SQLUDR_INT64 reserved5;
<a name="l00231"></a>00231   
<a name="l00232"></a>00232 } SQLUDR_PARAM;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="preprocessor">#define SQLUDR_ASCENDING 1</span>
<a name="l00235"></a>00235 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_DESCENDING -1</span>
<a name="l00236"></a>00236 <span class="preprocessor"></span><span class="preprocessor">#define SQLUDR_ZERO 0</span>
<a name="l00237"></a>00237 <span class="preprocessor"></span>
<a name="l00238"></a>00238 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00239"></a>00239 {
<a name="l00240"></a>00240   SQLUDR_UINT32 num_cols;
<a name="l00241"></a>00241   SQLUDR_UINT32 *cols_list;  <span class="comment">/* array of column indexes */</span>
<a name="l00242"></a>00242   SQLUDR_INT8   *direction;  <span class="comment">/* defaults to zero, which indicates N/A */</span>
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 SQLUDR_COLS_LIST;
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="preprocessor">#define SQLUDR_UNIQUE_CONSTRAINT 1</span>
<a name="l00247"></a>00247 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span>
<a name="l00248"></a>00248 {
<a name="l00249"></a>00249   SQLUDR_INT8 constraint_type;
<a name="l00250"></a>00250   SQLUDR_COLS_LIST constraint_cols;
<a name="l00251"></a>00251 } SQLUDR_CONSTRAINT;
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 <span class="comment">/* SQLUDR_TABLE_PARAM structure */</span>
<a name="l00255"></a>00255 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00256"></a>00256 {
<a name="l00257"></a>00257   SQLUDR_CHAR *table_name;
<a name="l00258"></a>00258   SQLUDR_UINT32 num_params ;
<a name="l00259"></a>00259   SQLUDR_PARAM *params;
<a name="l00260"></a>00260   SQLUDR_COLS_LIST part_params;
<a name="l00261"></a>00261   SQLUDR_COLS_LIST order_params;
<a name="l00262"></a>00262   SQLUDR_UINT32 row_length;
<a name="l00263"></a>00263   
<a name="l00264"></a>00264   <span class="comment">/* the fields below will be zero or NULL at runtime */</span>
<a name="l00265"></a>00265   SQLUDR_COLS_LIST pred_push_down_params;
<a name="l00266"></a>00266   SQLUDR_UINT32 num_rows;
<a name="l00267"></a>00267   SQLUDR_UINT32 *param_uecs;   <span class="comment">/* number of entries in this list must */</span>
<a name="l00268"></a>00268                                <span class="comment">/*  match num_params */</span>
<a name="l00269"></a>00269   
<a name="l00270"></a>00270   <span class="comment">/* If a uec is not known for a param the value 0 is used */</span>
<a name="l00271"></a>00271   SQLUDR_UINT32 num_constraints;
<a name="l00272"></a>00272   SQLUDR_CONSTRAINT *constraints;
<a name="l00273"></a>00273   
<a name="l00274"></a>00274   SQLUDR_DOUBLE cost_per_row;
<a name="l00275"></a>00275 } SQLUDR_TABLE_PARAM;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">/* UDRINFO structure */</span>
<a name="l00278"></a>00278 <span class="preprocessor">#define SQLUDR_UDRINFO_CURRENT_VERSION    (1)</span>
<a name="l00279"></a>00279 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00280"></a>00280 {
<a name="l00281"></a>00281   <span class="comment">/* Version of this structure */</span>
<a name="l00282"></a>00282   SQLUDR_UINT16 version;
<a name="l00283"></a>00283 
<a name="l00284"></a>00284   <span class="comment">/* Version of SQL. For example R2.4 = 2400 */</span>
<a name="l00285"></a>00285   SQLUDR_UINT16 sql_version;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287   <span class="comment">/* Parameter passing style. Will be a value from the       */</span>
<a name="l00288"></a>00288   <span class="comment">/* SQLUDR_PARAMSTYLE enumeration.                          */</span>
<a name="l00289"></a>00289   SQLUDR_UINT16 param_style;
<a name="l00290"></a>00290 
<a name="l00291"></a>00291   <span class="comment">/* Parameter passing style version */</span>
<a name="l00292"></a>00292   SQLUDR_UINT16 param_style_version;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   <span class="comment">/* Row format. Only valid for parameter style SQLROW.      */</span>
<a name="l00295"></a>00295   <span class="comment">/* Will be a value from the SQLUDR_ROWFORMAT enumeration.  */</span>
<a name="l00296"></a>00296   SQLUDR_UINT16 row_format;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298   SQLUDR_UINT16 reserved1;
<a name="l00299"></a>00299   SQLUDR_UINT16 reserved2;
<a name="l00300"></a>00300   SQLUDR_UINT16 reserved3;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302   <span class="comment">/* Null-terminated routine name */</span>
<a name="l00303"></a>00303   SQLUDR_CHAR *routine_name;
<a name="l00304"></a>00304   SQLUDR_INT32 reserved4;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306   <span class="comment">/* Reserved fields. Can be used for catalog and schema     */</span>
<a name="l00307"></a>00307   <span class="comment">/* names in the future                                     */</span>
<a name="l00308"></a>00308   SQLUDR_INT64 reserved5;
<a name="l00309"></a>00309   SQLUDR_INT64 reserved6;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311   <span class="comment">/* UUDR action. NULL if this is not a UUDR. */</span>
<a name="l00312"></a>00312   SQLUDR_CHAR *uudr_action;
<a name="l00313"></a>00313   SQLUDR_INT32 reserved7;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315   <span class="comment">/* Pass-through inputs */</span>
<a name="l00316"></a>00316   SQLUDR_UINT32 num_pass_through;
<a name="l00317"></a>00317   SQLUDR_INT32 reserved8;
<a name="l00318"></a>00318   SQLUDR_BUFFER *pass_through;
<a name="l00319"></a>00319   SQLUDR_INT32 reserved9;
<a name="l00320"></a>00320 
<a name="l00321"></a>00321   <span class="comment">/* Null-terminated current user name as returned by CURRENT_USER function*/</span>
<a name="l00322"></a>00322   SQLUDR_CHAR *current_user_name;
<a name="l00323"></a>00323   SQLUDR_INT32 reserved10;
<a name="l00324"></a>00324 
<a name="l00325"></a>00325   <span class="comment">/* Null-terminated login user name as returned by SESSION_USER function*/</span>
<a name="l00326"></a>00326   SQLUDR_CHAR *session_user_name;
<a name="l00327"></a>00327   SQLUDR_INT32 reserved11;
<a name="l00328"></a>00328 
<a name="l00329"></a>00329   <span class="comment">/* Null-terminated current role name as returned by CURRENT_ROLE function*/</span>
<a name="l00330"></a>00330   SQLUDR_CHAR *current_role_name;
<a name="l00331"></a>00331   SQLUDR_INT32 reserved12;
<a name="l00332"></a>00332 
<a name="l00333"></a>00333   <span class="comment">/* Null-terminated query identifier */</span>
<a name="l00334"></a>00334   SQLUDR_CHAR *query_id;
<a name="l00335"></a>00335   SQLUDR_INT32 reserved13;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337   <span class="comment">/* Row length and row format. Only valid for parameter   */</span>
<a name="l00338"></a>00338   <span class="comment">/* style SQLROW.                                         */</span>
<a name="l00339"></a>00339   SQLUDR_UINT32 in_row_length;
<a name="l00340"></a>00340   SQLUDR_UINT32 out_row_length;
<a name="l00341"></a>00341   
<a name="l00342"></a>00342   <span class="comment">/* Descriptive information about each input and output value */</span>
<a name="l00343"></a>00343   SQLUDR_UINT32 num_inputs;
<a name="l00344"></a>00344   SQLUDR_UINT32 num_return_values;
<a name="l00345"></a>00345   SQLUDR_PARAM *inputs;
<a name="l00346"></a>00346   SQLUDR_INT32 reserved14;
<a name="l00347"></a>00347   SQLUDR_PARAM *return_values;
<a name="l00348"></a>00348   SQLUDR_INT32 reserved15;
<a name="l00349"></a>00349 
<a name="l00350"></a>00350   SQLUDR_INT64 reserved16;
<a name="l00351"></a>00351   SQLUDR_INT64 reserved17;
<a name="l00352"></a>00352   SQLUDR_INT64 reserved18;
<a name="l00353"></a>00353   SQLUDR_INT64 reserved19;
<a name="l00354"></a>00354   SQLUDR_INT64 reserved20;
<a name="l00355"></a>00355   SQLUDR_INT64 reserved21;
<a name="l00356"></a>00356   SQLUDR_INT64 reserved22;
<a name="l00357"></a>00357   SQLUDR_INT64 reserved23;
<a name="l00358"></a>00358   
<a name="l00359"></a>00359   <span class="comment">/* Instance of tmudfserv */</span>
<a name="l00360"></a>00360   SQLUDR_UINT32  instance_total;  
<a name="l00361"></a>00361   SQLUDR_UINT32  instance_current;
<a name="l00362"></a>00362 
<a name="l00363"></a>00363   <span class="comment">/* Table related params info */</span>
<a name="l00364"></a>00364   SQLUDR_UINT32 num_table_inputs ;
<a name="l00365"></a>00365   SQLUDR_TABLE_PARAM *table_inputs;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 } SQLUDR_UDRINFO;
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 <span class="comment">/* TMUDFINFO structure */</span>
<a name="l00370"></a>00370 <span class="preprocessor">#define SQLUDR_TMUDFINFO_CURRENT_VERSION    (1)</span>
<a name="l00371"></a>00371 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00372"></a>00372 {
<a name="l00373"></a>00373   <span class="comment">/* Version of this structure */</span>
<a name="l00374"></a>00374   SQLUDR_UINT16 version;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376   <span class="comment">/* Version of SQL. For example R2.4 = 2400 */</span>
<a name="l00377"></a>00377   SQLUDR_UINT16 sql_version;
<a name="l00378"></a>00378 
<a name="l00379"></a>00379   <span class="comment">/* Null-terminated routine name */</span>
<a name="l00380"></a>00380   SQLUDR_CHAR *routine_name;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382   <span class="comment">/* Pass-through inputs */</span>
<a name="l00383"></a>00383   SQLUDR_UINT32 num_pass_through;
<a name="l00384"></a>00384   SQLUDR_BUFFER *pass_through;
<a name="l00385"></a>00385   
<a name="l00386"></a>00386   <span class="comment">/* Descriptive information about each input and output value */</span>
<a name="l00387"></a>00387   SQLUDR_UINT32 num_inputs;
<a name="l00388"></a>00388   SQLUDR_PARAM *inputs;
<a name="l00389"></a>00389 
<a name="l00390"></a>00390   SQLUDR_UINT32 num_table_inputs ;
<a name="l00391"></a>00391   SQLUDR_TABLE_PARAM *table_inputs;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393   SQLUDR_TABLE_PARAM output_info;
<a name="l00394"></a>00394 } SQLUDR_TMUDFINFO;
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment">/* SQLUDR_TRAIL_ARGS macro (to simplify function signatures) */</span>
<a name="l00397"></a>00397 <span class="preprocessor">#define SQLUDR_TRAIL_ARGS \</span>
<a name="l00398"></a>00398 <span class="preprocessor">  SQLUDR_CHAR        sqlstate[SQLUDR_SQLSTATE_SIZE], \</span>
<a name="l00399"></a>00399 <span class="preprocessor">  SQLUDR_CHAR        msgtext[SQLUDR_MSGTEXT_SIZE], \</span>
<a name="l00400"></a>00400 <span class="preprocessor">  SQLUDR_INT32       calltype, \</span>
<a name="l00401"></a>00401 <span class="preprocessor">  SQLUDR_STATEAREA  *statearea, \</span>
<a name="l00402"></a>00402 <span class="preprocessor">  SQLUDR_UDRINFO    *udrinfo</span>
<a name="l00403"></a>00403 <span class="preprocessor"></span>
<a name="l00404"></a>00404 <span class="comment">/* in case we need to call another function with SQLUDR_TRAIL_ARGS */</span>
<a name="l00405"></a>00405 <span class="preprocessor">#define PASS_ON_SQLUDR_TRAIL_ARGS \</span>
<a name="l00406"></a>00406 <span class="preprocessor">  sqlstate, msgtext, calltype, statearea, udrinfo</span>
<a name="l00407"></a>00407 <span class="preprocessor"></span>
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="comment">/* SQLTMUDF Queue State, also defined in</span>
<a name="l00410"></a>00410 <span class="comment">   ../src/main/java/org/trafodion/sql/udr/UDR.java  */</span>
<a name="l00411"></a>00411 <span class="keyword">typedef</span> <span class="keyword">enum</span> SQLUDR_Q_STATE
<a name="l00412"></a>00412 {
<a name="l00413"></a>00413   SQLUDR_Q_MORE = 1,
<a name="l00414"></a>00414   SQLUDR_Q_EOD,   
<a name="l00415"></a>00415   SQLUDR_Q_CANCEL
<a name="l00416"></a>00416 }SQLUDR_Q_STATE;
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 
<a name="l00419"></a>00419 <span class="keyword">typedef</span> void (*SQLUDR_GetNextRow)(<span class="keywordtype">char</span>            *rowData,       <span class="comment">/*OUT*/</span>
<a name="l00420"></a>00420                                   <span class="keywordtype">int</span>             tableIndex,     <span class="comment">/*IN*/</span>
<a name="l00421"></a>00421                                   SQLUDR_Q_STATE  *queue_state    <span class="comment">/*OUT*/</span>
<a name="l00422"></a>00422                                  );
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="keyword">typedef</span> void (*SQLUDR_EmitRow)  (<span class="keywordtype">char</span>            *rowData,        <span class="comment">/*IN*/</span>
<a name="l00425"></a>00425                                  <span class="keywordtype">int</span>             tableIndex,      <span class="comment">/*IN*/</span>
<a name="l00426"></a>00426                                  SQLUDR_Q_STATE  *queue_state     <span class="comment">/*IN/OUT*/</span>
<a name="l00427"></a>00427                                  );
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="preprocessor">#define SQLUDR_TMUDF_TRAIL_ARGS \</span>
<a name="l00430"></a>00430 <span class="preprocessor">  SQLUDR_CHAR           *rowDataSpace1,\</span>
<a name="l00431"></a>00431 <span class="preprocessor">  SQLUDR_CHAR           *rowDataSpace2,\</span>
<a name="l00432"></a>00432 <span class="preprocessor">  SQLUDR_GetNextRow     getRow,\</span>
<a name="l00433"></a>00433 <span class="preprocessor">  SQLUDR_EmitRow        emitRow,\</span>
<a name="l00434"></a>00434 <span class="preprocessor">  SQLUDR_TRAIL_ARGS</span>
<a name="l00435"></a>00435 <span class="preprocessor"></span>
<a name="l00436"></a>00436 <span class="comment">/* in case we need to call another function with SQLUDR_TMUDF_TRAIL_ARGS */</span>
<a name="l00437"></a>00437 <span class="preprocessor">#define PASS_ON_SQLUDR_TMUDF_TRAIL_ARGS \</span>
<a name="l00438"></a>00438 <span class="preprocessor">  rowDataSpace1, rowDataSpace2, getRow, emitRow, PASS_ON_SQLUDR_TRAIL_ARGS</span>
<a name="l00439"></a>00439 <span class="preprocessor"></span>
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 <span class="comment">/************************************************/</span>
<a name="l00444"></a>00444 <span class="comment">/*                                              */</span>
<a name="l00445"></a>00445 <span class="comment">/*           C++ interface for UDRs             */</span>
<a name="l00446"></a>00446 <span class="comment">/*                                              */</span>
<a name="l00447"></a>00447 <span class="comment">/************************************************/</span>
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 <span class="comment">// This interface should eventually replace the C interface</span>
<a name="l00450"></a>00450 <span class="comment">// defined above. We plan to provide a Java interface similar</span>
<a name="l00451"></a>00451 <span class="comment">// to this C++ version.</span>
<a name="l00452"></a>00452 
<a name="l00471"></a>00471 <span class="comment">// There are no inline functions in this file, except</span>
<a name="l00472"></a>00472 <span class="comment">// for those that return versions, since we want to be</span>
<a name="l00473"></a>00473 <span class="comment">// able to change these classes in an upward-compatible</span>
<a name="l00474"></a>00474 <span class="comment">// way without having to recompile the UDFs.</span>
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00477"></a>00477 <span class="preprocessor"></span>
<a name="l00478"></a>00478 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00479"></a>00479 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00480"></a>00480 
<a name="l00481"></a>00481 <span class="comment">// these are classes used internally by Trafodion to set up</span>
<a name="l00482"></a>00482 <span class="comment">// the environment for UDFs, they should not be used</span>
<a name="l00483"></a>00483 <span class="comment">// by UDR writers and are therefore not declared here</span>
<a name="l00484"></a>00484 <span class="keyword">class </span>TMUDFInternalSetup;
<a name="l00485"></a>00485 <span class="keyword">class </span>SPInfo;
<a name="l00486"></a>00486 <span class="keyword">class </span>LmLanguageManagerC;
<a name="l00487"></a>00487 <span class="keyword">class </span>LmLanguageManagerJava;
<a name="l00488"></a>00488 <span class="keyword">class </span>LmRoutineCppObj;
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="keyword">namespace </span>tmudr
<a name="l00491"></a>00491 {
<a name="l00492"></a>00492   <span class="comment">// forward declaration</span>
<a name="l00493"></a>00493   <span class="keyword">class </span>TableInfo;
<a name="l00494"></a>00494 
<a name="l00495"></a>00495   <span class="comment">// type for a buffer of binary data (e.g. serialized objects)</span>
<a name="l00496"></a>00496   <span class="keyword">typedef</span> <span class="keywordtype">char</span> * Bytes;
<a name="l00497"></a>00497   <span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * ConstBytes;
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 
<a name="l00511"></a><a class="code" href="classtmudr_1_1UDRException.html">00511</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1UDRException.html" title="This is the exception to throw when an error occurs in a UDR.">UDRException</a>
<a name="l00512"></a>00512   {
<a name="l00513"></a>00513   <span class="keyword">public</span>:
<a name="l00514"></a>00514 
<a name="l00515"></a>00515     <a class="code" href="classtmudr_1_1UDRException.html#a4a0892baa3b4746b0310339a24a1219b">UDRException</a>(<span class="keywordtype">int</span> sqlState, <span class="keyword">const</span> <span class="keywordtype">char</span> *printf_format, ...);
<a name="l00516"></a>00516     <a class="code" href="classtmudr_1_1UDRException.html#a4a0892baa3b4746b0310339a24a1219b">UDRException</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * sqlState, <span class="keyword">const</span> <span class="keywordtype">char</span> *printf_format, ...);
<a name="l00517"></a>00517     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classtmudr_1_1UDRException.html#ab72a1a01900f1cc7f0ac28cba5b2092d">getSQLState</a>() <span class="keyword">const</span>;
<a name="l00518"></a>00518     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRException.html#aa9d80f9be4771b873ca0ef2044e63306">getMessage</a>() <span class="keyword">const</span>;
<a name="l00519"></a>00519     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRException.html#a1fbcd51c04fd8253403bef5c7d5b0879">getText</a>() <span class="keyword">const</span>; <span class="comment">// deprecated, use getMessage()</span>
<a name="l00520"></a>00520 
<a name="l00521"></a>00521   <span class="keyword">private</span>:
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     <span class="keywordtype">char</span> sqlState_[6];
<a name="l00524"></a>00524     std::string  text_;
<a name="l00525"></a>00525   };
<a name="l00526"></a>00526 
<a name="l00527"></a>00527   <span class="comment">// Class to help with serialization, note that it is not required</span>
<a name="l00528"></a>00528   <span class="comment">// to inherit from this class in order to participate in serialization.</span>
<a name="l00529"></a>00529   <span class="comment">// UDR writers can ignore this class.</span>
<a name="l00530"></a>00530   <span class="keyword">class </span>TMUDRSerializableObject
<a name="l00531"></a>00531   {
<a name="l00532"></a>00532   <span class="keyword">public</span>:
<a name="l00533"></a>00533 
<a name="l00534"></a>00534     <span class="keyword">enum</span> Endianness
<a name="l00535"></a>00535       {
<a name="l00536"></a>00536         UNKNOWN_ENDIANNESS = 0,
<a name="l00537"></a>00537         IS_LITTLE_ENDIAN = 1,
<a name="l00538"></a>00538         IS_BIG_ENDIAN = 2
<a name="l00539"></a>00539       };
<a name="l00540"></a>00540 
<a name="l00541"></a>00541     <span class="keyword">enum</span> TMUDRObjectType
<a name="l00542"></a>00542       {
<a name="l00543"></a>00543         UNKNOWN_OBJECT_TYPE = 0,
<a name="l00544"></a>00544         TYPE_INFO_OBJ = 100,
<a name="l00545"></a>00545         PARAMETER_INFO_OBJ = 200,
<a name="l00546"></a>00546         COLUMN_INFO_OBJ = 400,
<a name="l00547"></a>00547         CARDINALITY_CONSTRAINT_INFO_OBJ = 510,
<a name="l00548"></a>00548         UNIQUE_CONSTRAINT_INFO_OBJ = 520,
<a name="l00549"></a>00549         COMP_PREDICATE_INFO_OBJ = 710,
<a name="l00550"></a>00550         PARTITION_INFO_OBJ = 800,
<a name="l00551"></a>00551         ORDER_INFO_OBJ = 900,
<a name="l00552"></a>00552         TUPLE_INFO_OBJ = 1000,
<a name="l00553"></a>00553         TABLE_INFO_OBJ = 1100,
<a name="l00554"></a>00554         PARAMETER_LIST_INFO_OBJ = 1200,
<a name="l00555"></a>00555         UDR_INVOCATION_INFO_OBJ = 1300,
<a name="l00556"></a>00556         UDR_PLAN_INFO_OBJ = 1400
<a name="l00557"></a>00557       };
<a name="l00558"></a>00558 
<a name="l00559"></a>00559     TMUDRSerializableObject(
<a name="l00560"></a>00560          TMUDRObjectType objectType,
<a name="l00561"></a>00561          <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> version = 1,
<a name="l00562"></a>00562          <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> endianness = IS_LITTLE_ENDIAN);
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     TMUDRObjectType getObjectType() <span class="keyword">const</span>;
<a name="l00565"></a>00565     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getVersion() <span class="keyword">const</span>;
<a name="l00566"></a>00566     Endianness getEndianness() <span class="keyword">const</span>;
<a name="l00567"></a>00567     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l00568"></a>00568     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l00569"></a>00569                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00570"></a>00570     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l00571"></a>00571                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00572"></a>00572 
<a name="l00573"></a>00573     <span class="keywordtype">void</span> validateObjectType(TMUDRObjectType o);
<a name="l00574"></a>00574     <span class="keywordtype">void</span> validateSerializedLength(<span class="keywordtype">int</span> l);
<a name="l00575"></a>00575     <span class="keywordtype">void</span> validateDeserializedLength(<span class="keywordtype">int</span> l);
<a name="l00576"></a>00576 
<a name="l00577"></a>00577     <span class="comment">// helper methods to serialize ints and strings, they</span>
<a name="l00578"></a>00578     <span class="comment">// return the length of the serialized information</span>
<a name="l00579"></a>00579     <span class="keywordtype">int</span> serializedLengthOfInt();
<a name="l00580"></a>00580     <span class="keywordtype">int</span> serializedLengthOfLong();
<a name="l00581"></a>00581     <span class="keywordtype">int</span> serializedLengthOfString(<span class="keyword">const</span> <span class="keywordtype">char</span> *s);
<a name="l00582"></a>00582     <span class="keywordtype">int</span> serializedLengthOfString(<span class="keywordtype">int</span> stringLength);
<a name="l00583"></a>00583     <span class="keywordtype">int</span> serializedLengthOfString(<span class="keyword">const</span> std::string &amp;s);
<a name="l00584"></a>00584     <span class="keywordtype">int</span> serializedLengthOfBinary(<span class="keywordtype">int</span> binaryLength);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="keywordtype">int</span> serializeInt(<span class="keywordtype">int</span> i,
<a name="l00587"></a>00587                      Bytes &amp;outputBuffer,
<a name="l00588"></a>00588                      <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00589"></a>00589     <span class="keywordtype">int</span> serializeLong(<span class="keywordtype">long</span> i,
<a name="l00590"></a>00590                       Bytes &amp;outputBuffer,
<a name="l00591"></a>00591                       <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00592"></a>00592     <span class="keywordtype">int</span> serializeString(<span class="keyword">const</span> <span class="keywordtype">char</span> *s,
<a name="l00593"></a>00593                         Bytes &amp;outputBuffer,
<a name="l00594"></a>00594                         <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00595"></a>00595     <span class="keywordtype">int</span> serializeString(<span class="keyword">const</span> <span class="keywordtype">char</span> *s,
<a name="l00596"></a>00596                         <span class="keywordtype">int</span> len,
<a name="l00597"></a>00597                         Bytes &amp;outputBuffer,
<a name="l00598"></a>00598                         <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00599"></a>00599     <span class="keywordtype">int</span> serializeString(<span class="keyword">const</span> std::string &amp;s,
<a name="l00600"></a>00600                         Bytes &amp;outputBuffer,
<a name="l00601"></a>00601                         <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00602"></a>00602     <span class="keywordtype">int</span> serializeBinary(<span class="keyword">const</span> <span class="keywordtype">void</span> *b,
<a name="l00603"></a>00603                         <span class="keywordtype">int</span> len,
<a name="l00604"></a>00604                         Bytes &amp;outputBuffer,
<a name="l00605"></a>00605                         <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00606"></a>00606 
<a name="l00607"></a>00607     <span class="keywordtype">int</span> deserializeInt(<span class="keywordtype">int</span> &amp;i,
<a name="l00608"></a>00608                        ConstBytes &amp;inputBuffer,
<a name="l00609"></a>00609                        <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00610"></a>00610     <span class="keywordtype">int</span> deserializeLong(<span class="keywordtype">long</span> &amp;i,
<a name="l00611"></a>00611                         ConstBytes &amp;inputBuffer,
<a name="l00612"></a>00612                         <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00613"></a>00613     <span class="keywordtype">int</span> deserializeString(<span class="keyword">const</span> <span class="keywordtype">char</span> *&amp;s,
<a name="l00614"></a>00614                           <span class="keywordtype">int</span> &amp;stringLength,
<a name="l00615"></a>00615                           <span class="keywordtype">bool</span> makeACopy,
<a name="l00616"></a>00616                           ConstBytes &amp;inputBuffer,
<a name="l00617"></a>00617                           <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00618"></a>00618     <span class="keywordtype">int</span> deserializeString(std::string &amp;s,
<a name="l00619"></a>00619                           ConstBytes &amp;inputBuffer,
<a name="l00620"></a>00620                           <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00621"></a>00621     <span class="keywordtype">int</span> deserializeBinary(<span class="keyword">const</span> <span class="keywordtype">void</span> **b,
<a name="l00622"></a>00622                           <span class="keywordtype">int</span> &amp;binaryLength,
<a name="l00623"></a>00623                           <span class="keywordtype">bool</span> makeACopy,
<a name="l00624"></a>00624                           ConstBytes &amp;inputBuffer,
<a name="l00625"></a>00625                           <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00626"></a>00626     TMUDRObjectType getNextObjectType(ConstBytes inputBuffer,
<a name="l00627"></a>00627                                       <span class="keywordtype">int</span> inputBufferLength);
<a name="l00628"></a>00628 
<a name="l00629"></a>00629   <span class="keyword">private</span>:
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     <span class="keyword">struct </span>headerFields {
<a name="l00632"></a>00632       <span class="keywordtype">int</span>            objectType_;
<a name="l00633"></a>00633       <span class="keywordtype">int</span>            totalLength_;
<a name="l00634"></a>00634       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> version_;
<a name="l00635"></a>00635       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> endianness_;
<a name="l00636"></a>00636       <span class="keywordtype">int</span>            flags_;
<a name="l00637"></a>00637       <span class="keywordtype">int</span>            filler_;
<a name="l00638"></a>00638     } v_;
<a name="l00639"></a>00639   };
<a name="l00640"></a>00640 
<a name="l00649"></a><a class="code" href="classtmudr_1_1TypeInfo.html">00649</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l00650"></a>00650   {
<a name="l00651"></a>00651   <span class="keyword">public</span>:
<a name="l00652"></a>00652 
<a name="l00654"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266">00654</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266">SQLTypeCode</a>
<a name="l00655"></a>00655       {
<a name="l00656"></a>00656         UNDEFINED_SQL_TYPE,
<a name="l00657"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a0ade21138ec1a4813824121364bcd19f">00657</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a0ade21138ec1a4813824121364bcd19f" title="16 bit integer">SMALLINT</a>,             
<a name="l00658"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a24a7fca3d700f356f83e3059accace84">00658</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a24a7fca3d700f356f83e3059accace84" title="32 bit integer">INT</a>,                  
<a name="l00659"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ac361fb49744ec7e4fdf18b7111c1b5df">00659</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ac361fb49744ec7e4fdf18b7111c1b5df" title="64 bit integer">LARGEINT</a>,             
<a name="l00660"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ade9538db5db4f27c09def5bb81e47af4">00660</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ade9538db5db4f27c09def5bb81e47af4" title="Numeric with decimal precision.">NUMERIC</a>,              
<a name="l00661"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a336d6300f5f819dd63b603ee17736313">00661</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a336d6300f5f819dd63b603ee17736313" title="Decimal, leading sign embedded.">DECIMAL_LSE</a>,          
<a name="l00662"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266aca91a8c023fc074aa7afba2fde0acaf0">00662</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266aca91a8c023fc074aa7afba2fde0acaf0" title="unsigned 16 bit integer">SMALLINT_UNSIGNED</a>,    
<a name="l00663"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ae58915dee0f1849c71bd21e9e6cf8666">00663</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ae58915dee0f1849c71bd21e9e6cf8666" title="unsigned 32 bit integer">INT_UNSIGNED</a>,         
<a name="l00664"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a2ac9a1a11876fe9bbdb813e55cc74577">00664</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a2ac9a1a11876fe9bbdb813e55cc74577" title="unsigned numeric">NUMERIC_UNSIGNED</a>,     
<a name="l00665"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266aea52590bc64eb520c50b81889e0c6a44">00665</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266aea52590bc64eb520c50b81889e0c6a44" title="unsigned decimal">DECIMAL_UNSIGNED</a>,     
<a name="l00666"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a62961a64ad659ce3817481ab753bb60e">00666</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a62961a64ad659ce3817481ab753bb60e" title="4 byte floating point number">REAL</a>,                 
<a name="l00667"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a564cd31cdc534c68294bb6b37a25207f">00667</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a564cd31cdc534c68294bb6b37a25207f" title="8 byte floating point number">DOUBLE_PRECISION</a>,     
<a name="l00668"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a59e8ffc02bd57394fb38c39a338b9af5">00668</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a59e8ffc02bd57394fb38c39a338b9af5" title="fixed length character types.">CHAR</a>,                 
<a name="l00669"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266aacb75ea700bb91e90d9e655b41749a53">00669</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266aacb75ea700bb91e90d9e655b41749a53" title="varying length character types.">VARCHAR</a>,              
<a name="l00670"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a44380d03ef2b795de30c85047828af08">00670</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a44380d03ef2b795de30c85047828af08" title="date">DATE</a>,                 
<a name="l00671"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a36803a96faf38ec105228df9b91fc221">00671</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a36803a96faf38ec105228df9b91fc221" title="time">TIME</a>,                 
<a name="l00672"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ad8e388312a66654cc86af2ece2564394">00672</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266ad8e388312a66654cc86af2ece2564394" title="timestamp">TIMESTAMP</a>,            
<a name="l00673"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a5b8bcc1ecfefa939e06e1b431f5a2564">00673</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a5b8bcc1ecfefa939e06e1b431f5a2564" title="interval">INTERVAL</a>,             
<a name="l00674"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a0f315e31b36d6bf06c6d361352606870">00674</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a0f315e31b36d6bf06c6d361352606870" title="Binary Large Object.">BLOB</a>,                 
<a name="l00675"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266acb20fc9eb1050fb670402263e8129437">00675</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266acb20fc9eb1050fb670402263e8129437" title="Character Large Object.">CLOB</a>,                 
<a name="l00676"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a5522121626259cd01df63953b6499f1f">00676</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a5522121626259cd01df63953b6499f1f" title="8 bit integer">TINYINT</a>,              
<a name="l00677"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a79c2f5c46711ae898e1ce8fe661a7055">00677</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a79c2f5c46711ae898e1ce8fe661a7055" title="unsigned 8 bit integer">TINYINT_UNSIGNED</a>,     
<a name="l00678"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a93e39bc9f828394f04f4dea0ba9f56cd">00678</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266a93e39bc9f828394f04f4dea0ba9f56cd" title="boolean, 1 byte 0 or 1">BOOLEAN</a>               
<a name="l00679"></a>00679       };
<a name="l00680"></a>00680   
<a name="l00682"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6">00682</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6">SQLTypeClassCode</a>
<a name="l00683"></a>00683       {
<a name="l00684"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6ac1ddf5a35e4973c871c59882a1748ed0">00684</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6ac1ddf5a35e4973c871c59882a1748ed0" title="char and varchar types">CHARACTER_TYPE</a>,       
<a name="l00685"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a74bae30f356f7d74578afce48bfb8b0a">00685</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a74bae30f356f7d74578afce48bfb8b0a" title="exact and approximate numerics">NUMERIC_TYPE</a>,         
<a name="l00686"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a1926333fc5b6213b2550f11c505a6ff8">00686</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a1926333fc5b6213b2550f11c505a6ff8" title="date/time/timestamp">DATETIME_TYPE</a>,        
<a name="l00687"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a8e593620895104b04699b510b03a3410">00687</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a8e593620895104b04699b510b03a3410" title="day/month or hour/second intervals">INTERVAL_TYPE</a>,        
<a name="l00688"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a95c60040762e832c593c5cd70612dabf">00688</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6a95c60040762e832c593c5cd70612dabf" title="BLOBs and CLOBs.">LOB_TYPE</a>,             
<a name="l00689"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6aa5ade31c984878b78f9a5dba6862d6c9">00689</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6aa5ade31c984878b78f9a5dba6862d6c9" title="Boolean.">BOOLEAN_TYPE</a>,         
<a name="l00690"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6ab5a97b37256b6b9a1a9bcdc87cf8604b">00690</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6ab5a97b37256b6b9a1a9bcdc87cf8604b" title="undefined value">UNDEFINED_TYPE_CLASS</a>  
<a name="l00691"></a>00691       };
<a name="l00692"></a>00692   
<a name="l00694"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312">00694</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312">SQLTypeSubClassCode</a>
<a name="l00695"></a>00695       {
<a name="l00696"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312aec1f8938badce43ef7b7d916564c2e73">00696</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312aec1f8938badce43ef7b7d916564c2e73" title="CHAR types.">FIXED_CHAR_TYPE</a>,           
<a name="l00697"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a95cff35312ae45825b4c11cde067bfbd">00697</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a95cff35312ae45825b4c11cde067bfbd" title="VARCHAR type.">VAR_CHAR_TYPE</a>,             
<a name="l00698"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a6220516814a84a54ec18897b5033f78a">00698</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a6220516814a84a54ec18897b5033f78a" title="Exact numeric.">EXACT_NUMERIC_TYPE</a>,        
<a name="l00699"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a883f57f4046fb514e407ee2bfae4c150">00699</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a883f57f4046fb514e407ee2bfae4c150" title="Approximate numeric (floating point).">APPROXIMATE_NUMERIC_TYPE</a>,  
<a name="l00700"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a1783dfb6ca7d790d9dd81e79ce31c51a">00700</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a1783dfb6ca7d790d9dd81e79ce31c51a" title="Date.">DATE_TYPE</a>,                 
<a name="l00701"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a2d9393a033a243a8da1351bd7bb516bf">00701</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a2d9393a033a243a8da1351bd7bb516bf" title="Time.">TIME_TYPE</a>,                 
<a name="l00702"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a8f245e8fed318c82158be45bab8eab79">00702</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a8f245e8fed318c82158be45bab8eab79">TIMESTAMP_TYPE</a>,            
<a name="l00703"></a>00703 
<a name="l00704"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312aea59eb6057ee0249ddb7c9ea02db5c22">00704</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312aea59eb6057ee0249ddb7c9ea02db5c22" title="Intervals involving year and month.">YEAR_MONTH_INTERVAL_TYPE</a>,  
<a name="l00705"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a40834e400cd23e40d1301cf793cd0efe">00705</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a40834e400cd23e40d1301cf793cd0efe">DAY_SECOND_INTERVAL_TYPE</a>,  
<a name="l00706"></a>00706 
<a name="l00707"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a29452fb1a30719c6b4da88baf7a19f3f">00707</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a29452fb1a30719c6b4da88baf7a19f3f" title="LOBs.">LOB_SUB_CLASS</a>,             
<a name="l00708"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312ace4ee59929901bdbe32083660ecc3998">00708</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312ace4ee59929901bdbe32083660ecc3998" title="Boolean.">BOOLEAN_SUB_CLASS</a>,         
<a name="l00709"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a779d60e795dc59c3267c0805a02f1a06">00709</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312a779d60e795dc59c3267c0805a02f1a06" title="undefined value">UNDEFINED_TYPE_SUB_CLASS</a>   
<a name="l00710"></a>00710       };
<a name="l00711"></a>00711   
<a name="l00713"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">00713</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">SQLCharsetCode</a>
<a name="l00714"></a>00714       {
<a name="l00715"></a>00715         UNDEFINED_CHARSET,
<a name="l00716"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619da89d942ed0ec37f58306ecffc8bc27f50">00716</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619da89d942ed0ec37f58306ecffc8bc27f50" title="ISO 8859-1, single byte western European characters.">CHARSET_ISO88591</a>, 
<a name="l00717"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619dabc8b5a700e0bfd85293e6e9f6f7f95bb">00717</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619dabc8b5a700e0bfd85293e6e9f6f7f95bb" title="UTF-8, 1-4 byte Unicode encoding, length is in bytes.">CHARSET_UTF8</a>,     
<a name="l00718"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619da224994fe269e15342cc627cd3eeaf57f">00718</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619da224994fe269e15342cc627cd3eeaf57f" title="UCS-2, 16 bit Unicode encoding, tolerates UTF-16.">CHARSET_UCS2</a>      
<a name="l00719"></a>00719       };
<a name="l00720"></a>00720 
<a name="l00722"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">00722</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">SQLCollationCode</a>
<a name="l00723"></a>00723       {
<a name="l00724"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568abe6f0fa45c98745423d99f63e03a1bfa">00724</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568abe6f0fa45c98745423d99f63e03a1bfa" title="undefined value">UNDEFINED_COLLATION</a>,      
<a name="l00725"></a><a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568afaf17174e4d03374f3953af1455ede55">00725</a>         <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568afaf17174e4d03374f3953af1455ede55">SYSTEM_COLLATION</a>          
<a name="l00726"></a>00726 
<a name="l00727"></a>00727 
<a name="l00728"></a>00728       };
<a name="l00729"></a>00729 
<a name="l00731"></a>00731     <span class="comment">// Note: same values as SQLINTERVAL_CODE in file sql/cli/sqlcli.h</span>
<a name="l00732"></a><a class="code" href="classtmudr_1_1TypeInfo.html#a7abbf6085f46df317c9af55c360d5693">00732</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1TypeInfo.html#a7abbf6085f46df317c9af55c360d5693">SQLIntervalCode</a>
<a name="l00733"></a>00733       {
<a name="l00734"></a>00734         UNDEFINED_INTERVAL_CODE =  0,
<a name="l00735"></a>00735         INTERVAL_YEAR           =  1,
<a name="l00736"></a>00736         INTERVAL_MONTH          =  2,
<a name="l00737"></a>00737         INTERVAL_DAY            =  3,
<a name="l00738"></a>00738         INTERVAL_HOUR           =  4,
<a name="l00739"></a>00739         INTERVAL_MINUTE         =  5,
<a name="l00740"></a>00740         INTERVAL_SECOND         =  6,
<a name="l00741"></a>00741         INTERVAL_YEAR_MONTH     =  7,
<a name="l00742"></a>00742         INTERVAL_DAY_HOUR       =  8,
<a name="l00743"></a>00743         INTERVAL_DAY_MINUTE     =  9,
<a name="l00744"></a>00744         INTERVAL_DAY_SECOND     = 10,
<a name="l00745"></a>00745         INTERVAL_HOUR_MINUTE    = 11,
<a name="l00746"></a>00746         INTERVAL_HOUR_SECOND    = 12,
<a name="l00747"></a>00747         INTERVAL_MINUTE_SECOND  = 13
<a name="l00748"></a>00748       };
<a name="l00749"></a>00749 
<a name="l00750"></a>00750     <a class="code" href="classtmudr_1_1TypeInfo.html#aa8530a671d0e202da5766878865c6b92">TypeInfo</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> &amp;type);
<a name="l00751"></a>00751     <a class="code" href="classtmudr_1_1TypeInfo.html#aa8530a671d0e202da5766878865c6b92">TypeInfo</a>(<a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266">SQLTypeCode</a> sqltype = UNDEFINED_SQL_TYPE,
<a name="l00752"></a>00752              <span class="keywordtype">int</span> length = 0,
<a name="l00753"></a>00753              <span class="keywordtype">bool</span> nullable = <span class="keyword">false</span>,
<a name="l00754"></a>00754              <span class="keywordtype">int</span> scale = 0,
<a name="l00755"></a>00755              <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">SQLCharsetCode</a> charset = <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619dabc8b5a700e0bfd85293e6e9f6f7f95bb" title="UTF-8, 1-4 byte Unicode encoding, length is in bytes.">CHARSET_UTF8</a>,
<a name="l00756"></a>00756              <a class="code" href="classtmudr_1_1TypeInfo.html#a7abbf6085f46df317c9af55c360d5693">SQLIntervalCode</a> intervalCode = UNDEFINED_INTERVAL_CODE,
<a name="l00757"></a>00757              <span class="keywordtype">int</span> precision = 0,
<a name="l00758"></a>00758              <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">SQLCollationCode</a> collation = <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568afaf17174e4d03374f3953af1455ede55">SYSTEM_COLLATION</a>);
<a name="l00759"></a>00759     <span class="comment">// this constructor should not be used by UDR writers</span>
<a name="l00760"></a>00760     <a class="code" href="classtmudr_1_1TypeInfo.html#aa8530a671d0e202da5766878865c6b92">TypeInfo</a>(<a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266">SQLTypeCode</a> sqltype,
<a name="l00761"></a>00761              <span class="keywordtype">bool</span> nullable,
<a name="l00762"></a>00762              <span class="keywordtype">int</span> scale,
<a name="l00763"></a>00763              <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">SQLCharsetCode</a> charset,
<a name="l00764"></a>00764              <a class="code" href="classtmudr_1_1TypeInfo.html#a7abbf6085f46df317c9af55c360d5693">SQLIntervalCode</a> intervalCode,
<a name="l00765"></a>00765              <span class="keywordtype">int</span> precision,
<a name="l00766"></a>00766              <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">SQLCollationCode</a> collation,
<a name="l00767"></a>00767              <span class="keywordtype">int</span> length);
<a name="l00768"></a>00768 
<a name="l00769"></a>00769     <a class="code" href="classtmudr_1_1TypeInfo.html#ab696846dc0cbf6f8636bf5a8bcf6d266">SQLTypeCode</a> <a class="code" href="classtmudr_1_1TypeInfo.html#a15f362c0467ea724f5a131abf616b4e3">getSQLType</a>() <span class="keyword">const</span>;
<a name="l00770"></a>00770     <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6">SQLTypeClassCode</a> <a class="code" href="classtmudr_1_1TypeInfo.html#abbeae3703448b022500bc51d03464ee8">getSQLTypeClass</a>() <span class="keyword">const</span>;
<a name="l00771"></a>00771     <a class="code" href="classtmudr_1_1TypeInfo.html#a82b5906be32d94b8ae2ba20d8cc3f312">SQLTypeSubClassCode</a> <a class="code" href="classtmudr_1_1TypeInfo.html#a2d4c5cb598281937eab0e29d86f63a4f">getSQLTypeSubClass</a>() <span class="keyword">const</span>;
<a name="l00772"></a>00772     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1TypeInfo.html#adb5577ca283d68a58de55ade4eee2af9">getIsNullable</a>() <span class="keyword">const</span>;
<a name="l00773"></a>00773     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TypeInfo.html#abc3cf966f53a123d28cb7592da8ea1c4">getScale</a>() <span class="keyword">const</span>;
<a name="l00774"></a>00774     <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">SQLCharsetCode</a> <a class="code" href="classtmudr_1_1TypeInfo.html#ae14b0a07899ffb784c74eebf601eb0af">getCharset</a>() <span class="keyword">const</span>;
<a name="l00775"></a>00775     <a class="code" href="classtmudr_1_1TypeInfo.html#a7abbf6085f46df317c9af55c360d5693">SQLIntervalCode</a> <a class="code" href="classtmudr_1_1TypeInfo.html#a5c1892b468507c422ceda6b60bdb0766">getIntervalCode</a>() <span class="keyword">const</span>;
<a name="l00776"></a>00776     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TypeInfo.html#a65b9039901423957438d611fec875ecb">getPrecision</a>() <span class="keyword">const</span>;
<a name="l00777"></a>00777     <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">SQLCollationCode</a> <a class="code" href="classtmudr_1_1TypeInfo.html#a07a9a08aced1ba15872605bc9774eb61">getCollation</a>() <span class="keyword">const</span>;
<a name="l00778"></a>00778     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TypeInfo.html#ae610f032b3f1db4a97562b609a9119d8">getByteLength</a>() <span class="keyword">const</span>;
<a name="l00779"></a>00779     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TypeInfo.html#a4b52f733a78e59a2ea37b6e306b6fc56">getMaxCharLength</a>() <span class="keyword">const</span>;
<a name="l00780"></a>00780 
<a name="l00781"></a>00781     <span class="comment">// non-const methods for use at compile time</span>
<a name="l00782"></a>00782     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TypeInfo.html#ab370d3a8e693a893080c105a11d0a500">setNullable</a>(<span class="keywordtype">bool</span> nullable);
<a name="l00783"></a>00783 
<a name="l00784"></a>00784     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l00785"></a>00785 
<a name="l00786"></a>00786     <span class="keywordtype">int</span> getInt(<span class="keyword">const</span> <span class="keywordtype">char</span> *row, <span class="keywordtype">bool</span> &amp;wasNull) <span class="keyword">const</span>;
<a name="l00787"></a>00787     <span class="keywordtype">long</span> getLong(<span class="keyword">const</span> <span class="keywordtype">char</span> *row, <span class="keywordtype">bool</span> &amp;wasNull) <span class="keyword">const</span>;
<a name="l00788"></a>00788     <span class="keywordtype">double</span> getDouble(<span class="keyword">const</span> <span class="keywordtype">char</span> *row, <span class="keywordtype">bool</span> &amp;wasNull) <span class="keyword">const</span>;
<a name="l00789"></a>00789     time_t getTime(<span class="keyword">const</span> <span class="keywordtype">char</span> *row, <span class="keywordtype">bool</span> &amp;wasNull) <span class="keyword">const</span>;
<a name="l00790"></a>00790     <span class="keywordtype">bool</span> getBoolean(<span class="keyword">const</span> <span class="keywordtype">char</span> *row, <span class="keywordtype">bool</span> &amp;wasNull) <span class="keyword">const</span>;
<a name="l00791"></a>00791     <span class="keyword">const</span> <span class="keywordtype">char</span> * getRaw(<span class="keyword">const</span> <span class="keywordtype">char</span> *row,
<a name="l00792"></a>00792                         <span class="keywordtype">bool</span> &amp;wasNull,
<a name="l00793"></a>00793                         <span class="keywordtype">int</span> &amp;byteLen) <span class="keyword">const</span>;
<a name="l00794"></a>00794     <span class="keywordtype">bool</span> isAvailable() <span class="keyword">const</span>;
<a name="l00795"></a>00795 
<a name="l00796"></a>00796     <span class="keywordtype">void</span> setInt(<span class="keywordtype">int</span> val, <span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00797"></a>00797     <span class="keywordtype">void</span> setLong(<span class="keywordtype">long</span> val, <span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00798"></a>00798     <span class="keywordtype">void</span> setDouble(<span class="keywordtype">double</span> val, <span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00799"></a>00799     <span class="keywordtype">void</span> setTime(time_t val, <span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00800"></a>00800     <span class="keywordtype">void</span> setString(<span class="keyword">const</span> <span class="keywordtype">char</span> *val, <span class="keywordtype">int</span> stringLen, <span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00801"></a>00801     <span class="keywordtype">void</span> setBoolean(<span class="keywordtype">bool</span> val, <span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00802"></a>00802     <span class="keywordtype">void</span> setNull(<span class="keywordtype">char</span> *row) <span class="keyword">const</span>;
<a name="l00803"></a>00803 
<a name="l00804"></a>00804     <span class="keywordtype">int</span> minBytesPerChar() <span class="keyword">const</span>;
<a name="l00805"></a>00805     <span class="keywordtype">int</span> convertToBinaryPrecision(<span class="keywordtype">int</span> decimalPrecision) <span class="keyword">const</span>;
<a name="l00806"></a>00806     <span class="keywordtype">void</span> toString(std::string &amp;s, <span class="keywordtype">bool</span> longForm) <span class="keyword">const</span>;
<a name="l00807"></a>00807     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l00808"></a>00808     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l00809"></a>00809     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l00810"></a>00810                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00811"></a>00811     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l00812"></a>00812                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00813"></a>00813     <span class="keywordtype">void</span> setOffsets(<span class="keywordtype">int</span> dataOffset, <span class="keywordtype">int</span> indOffset, <span class="keywordtype">int</span> vcOffset);
<a name="l00814"></a>00814 
<a name="l00815"></a>00815   <span class="keyword">private</span>:
<a name="l00816"></a>00816 
<a name="l00817"></a>00817     <span class="comment">// flags</span>
<a name="l00818"></a>00818     <span class="keyword">enum</span> {
<a name="l00819"></a>00819       TYPE_FLAG_4_BYTE_VC_LEN    = 0x00000001
<a name="l00820"></a>00820     };
<a name="l00821"></a>00821 
<a name="l00822"></a>00822     <span class="keyword">struct </span>{
<a name="l00823"></a>00823       <span class="keywordtype">int</span> <span class="comment">/*SQLTypeCode      */</span> sqlType_;
<a name="l00824"></a>00824       <span class="keywordtype">int</span> <span class="comment">/*bool             */</span> nullable_;
<a name="l00825"></a>00825       <span class="keywordtype">int</span>                       scale_;         <span class="comment">// scale for exact numeric,</span>
<a name="l00826"></a>00826                                                 <span class="comment">// fraction precision for datetime/interval</span>
<a name="l00827"></a>00827       <span class="keywordtype">int</span> <span class="comment">/*SQLCharsetCode   */</span> charset_;       <span class="comment">// for character types</span>
<a name="l00828"></a>00828       <span class="keywordtype">int</span> <span class="comment">/*SQLIntervalCode  */</span> intervalCode_;  <span class="comment">// for interval types</span>
<a name="l00829"></a>00829       <span class="keywordtype">int</span>                       precision_;     <span class="comment">// decimal precision for exact numerics,</span>
<a name="l00830"></a>00830                                                 <span class="comment">// leading interval precision for intervals</span>
<a name="l00831"></a>00831       <span class="keywordtype">int</span> <span class="comment">/*SQLCollationCode */</span> collation_;     <span class="comment">// for character types</span>
<a name="l00832"></a>00832       <span class="keywordtype">int</span>                       length_;        <span class="comment">// for numeric (decimal precision) and character types</span>
<a name="l00833"></a>00833       <span class="keywordtype">int</span>                       dataOffset_;    <span class="comment">// offset in record for data portion</span>
<a name="l00834"></a>00834       <span class="keywordtype">int</span>                       nullIndOffset_; <span class="comment">// offset in record for 2 or 4 byte varchar length</span>
<a name="l00835"></a>00835       <span class="keywordtype">int</span>                       vcLenIndOffset_;<span class="comment">// offset in record for 2 byte null indicator</span>
<a name="l00836"></a>00836       <span class="keywordtype">int</span>                       flags_;         <span class="comment">// bit flags</span>
<a name="l00837"></a>00837       <span class="keywordtype">int</span>                       fillers_[4];    <span class="comment">// for adding more fields without versioning</span>
<a name="l00838"></a>00838     } d_;
<a name="l00839"></a>00839 
<a name="l00840"></a>00840     <span class="comment">// this class is used by the Trafodion compiler</span>
<a name="l00841"></a>00841     <span class="keyword">friend</span> class ::TMUDFInternalSetup;
<a name="l00842"></a>00842   };
<a name="l00843"></a>00843 
<a name="l00857"></a><a class="code" href="classtmudr_1_1ProvenanceInfo.html">00857</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1ProvenanceInfo.html" title="Describes where an output column is coming from.">ProvenanceInfo</a>
<a name="l00858"></a>00858   {
<a name="l00859"></a>00859   <span class="keyword">public</span>:
<a name="l00860"></a>00860 
<a name="l00861"></a>00861     <a class="code" href="classtmudr_1_1ProvenanceInfo.html#ad6be4c301a7f3b9a34d2c0863fa3d337">ProvenanceInfo</a>();
<a name="l00862"></a>00862     <a class="code" href="classtmudr_1_1ProvenanceInfo.html#ad6be4c301a7f3b9a34d2c0863fa3d337">ProvenanceInfo</a>(<span class="keywordtype">int</span> inputTableNum,
<a name="l00863"></a>00863                    <span class="keywordtype">int</span> inputColNum);
<a name="l00864"></a>00864     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1ProvenanceInfo.html#adfad1a87e41077dc3dd62ca4e073b3ef">getInputTableNum</a>() <span class="keyword">const</span>;
<a name="l00865"></a>00865     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1ProvenanceInfo.html#a2c10c9b580e812db85cf7c74a35f63c2">getInputColumnNum</a>() <span class="keyword">const</span>;
<a name="l00866"></a>00866     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1ProvenanceInfo.html#ad8d8d8c7b33c849000f0fd33e9d6c797">isFromInputTable</a>(<span class="keywordtype">int</span> inputTableNum = -1) <span class="keyword">const</span>;
<a name="l00867"></a>00867 
<a name="l00868"></a>00868   <span class="keyword">private</span>:
<a name="l00869"></a>00869     <span class="keywordtype">int</span> inputTableNum_;
<a name="l00870"></a>00870     <span class="keywordtype">int</span> inputColNum_;
<a name="l00871"></a>00871   };
<a name="l00872"></a>00872 
<a name="l00881"></a><a class="code" href="classtmudr_1_1ColumnInfo.html">00881</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l00882"></a>00882   {
<a name="l00883"></a>00883   <span class="keyword">public</span>:
<a name="l00884"></a>00884 
<a name="l00886"></a><a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4">00886</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4" title="Info on whether a table-valued input or output column is used.">ColumnUseCode</a>
<a name="l00887"></a>00887       {
<a name="l00888"></a><a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4af932bad37d6a82ef028b8d259a5f0093">00888</a>         <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4af932bad37d6a82ef028b8d259a5f0093" title="Column usage is not yet determined.">UNKNOWN</a>,     
<a name="l00889"></a><a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4a6a27f51d940992abb9864cdf20bbb700">00889</a>         <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4a6a27f51d940992abb9864cdf20bbb700">USED</a>,        
<a name="l00890"></a>00890 
<a name="l00891"></a><a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4ac936626753ec183cf722c48004a8faa9">00891</a>         <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4ac936626753ec183cf722c48004a8faa9">NOT_USED</a>,    
<a name="l00892"></a>00892 
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 
<a name="l00895"></a><a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4af61516911abc37e459106df016cf7653">00895</a>         <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4af61516911abc37e459106df016cf7653">NOT_PRODUCED</a> 
<a name="l00896"></a>00896 
<a name="l00897"></a>00897       };
<a name="l00898"></a>00898 
<a name="l00899"></a>00899     <a class="code" href="classtmudr_1_1ColumnInfo.html#a12b2dd59f7b6c13008291c3ef03ba7f4">ColumnInfo</a>();
<a name="l00900"></a>00900     <a class="code" href="classtmudr_1_1ColumnInfo.html#a12b2dd59f7b6c13008291c3ef03ba7f4">ColumnInfo</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name,
<a name="l00901"></a>00901                <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> &amp;type);
<a name="l00902"></a>00902 
<a name="l00903"></a>00903     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1ColumnInfo.html#ada100933d6c988677ed46b925fe0670b">getColName</a>() <span class="keyword">const</span>;
<a name="l00904"></a>00904     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> &amp;<a class="code" href="classtmudr_1_1ColumnInfo.html#a26bbd74a3e645ea2202bb0bf82ae04ed">getType</a>() <span class="keyword">const</span>;
<a name="l00905"></a>00905     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#aad773b195be34ee3fb471fcfb19d71d8">getEstimatedUniqueEntries</a>() <span class="keyword">const</span>;
<a name="l00906"></a>00906     <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4" title="Info on whether a table-valued input or output column is used.">ColumnUseCode</a> <a class="code" href="classtmudr_1_1ColumnInfo.html#a6bbc5eac8f191243281e44ceaced86be">getUsage</a>() <span class="keyword">const</span>;
<a name="l00907"></a>00907     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ProvenanceInfo.html" title="Describes where an output column is coming from.">ProvenanceInfo</a> &amp;<a class="code" href="classtmudr_1_1ColumnInfo.html#abd56e48603e02a2b65f383921a2c44a1">getProvenance</a>() <span class="keyword">const</span>;
<a name="l00908"></a>00908 
<a name="l00909"></a>00909     <span class="comment">// for use during compilation</span>
<a name="l00910"></a>00910     <a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> &amp;<a class="code" href="classtmudr_1_1ColumnInfo.html#a26bbd74a3e645ea2202bb0bf82ae04ed">getType</a>();
<a name="l00911"></a>00911     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#a4c221aafe4e3733dceee16437ec34749">setColName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00912"></a>00912     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#a77d0bd16eee7845a734a8637c8fe7e16">setType</a>(<a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> &amp;type);
<a name="l00913"></a>00913     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#adc6ef72793f0f293ea7370a46764080d">setEstimatedUniqueEntries</a>(<span class="keywordtype">long</span> uniqueEntries);
<a name="l00914"></a>00914     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#a6769703f19c5edbbb8d758ac21443f89">setUsage</a>(<a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4" title="Info on whether a table-valued input or output column is used.">ColumnUseCode</a> usage);
<a name="l00915"></a>00915     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1ColumnInfo.html#a361ed635eeb56e2262a41aded487ccf7">setProvenance</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1ProvenanceInfo.html" title="Describes where an output column is coming from.">ProvenanceInfo</a> &amp;provenance);
<a name="l00916"></a>00916 
<a name="l00917"></a>00917     <span class="comment">// Functions for debugging</span>
<a name="l00918"></a>00918     <span class="keywordtype">void</span> toString(std::string &amp;s, <span class="keywordtype">bool</span> longForm = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00919"></a>00919 
<a name="l00920"></a>00920     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l00921"></a>00921     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l00922"></a>00922     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l00923"></a>00923     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l00924"></a>00924                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00925"></a>00925     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l00926"></a>00926                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00927"></a>00927 
<a name="l00928"></a>00928   <span class="keyword">private</span>:
<a name="l00929"></a>00929 
<a name="l00930"></a>00930     std::string name_;
<a name="l00931"></a>00931     TypeInfo type_;
<a name="l00932"></a>00932     <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4" title="Info on whether a table-valued input or output column is used.">ColumnUseCode</a> usage_;
<a name="l00933"></a>00933     <span class="keywordtype">long</span> estimatedUniqueEntries_;
<a name="l00934"></a>00934     ProvenanceInfo provenance_;
<a name="l00935"></a>00935 
<a name="l00936"></a>00936     <span class="keyword">friend</span> class ::TMUDFInternalSetup;
<a name="l00937"></a>00937   };
<a name="l00938"></a>00938 
<a name="l00946"></a><a class="code" href="classtmudr_1_1ConstraintInfo.html">00946</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1ConstraintInfo.html" title="A constraint on a table-valued input or output table.">ConstraintInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l00947"></a>00947   {
<a name="l00948"></a>00948   <span class="keyword">public</span>:
<a name="l00949"></a>00949 
<a name="l00951"></a><a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029">00951</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029">ConstraintTypeCode</a>
<a name="l00952"></a>00952       {
<a name="l00953"></a><a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029afb46759b2d515c81e6e10a7a687432e4">00953</a>         <a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029afb46759b2d515c81e6e10a7a687432e4" title="Cardinality constraint.">CARDINALITY</a>,   
<a name="l00954"></a><a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029a17d366cd7f84a5f9a69a6419309006f9">00954</a>         <a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029a17d366cd7f84a5f9a69a6419309006f9" title="Uniqueness constraint.">UNIQUE</a>         
<a name="l00955"></a>00955       };
<a name="l00956"></a>00956 
<a name="l00957"></a>00957 
<a name="l00958"></a>00958     <a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029">ConstraintTypeCode</a> <a class="code" href="classtmudr_1_1ConstraintInfo.html#a334f7ca84835a0cb158a83e0d033b177">getType</a>() <span class="keyword">const</span>;    
<a name="l00959"></a>00959 
<a name="l00960"></a>00960     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l00961"></a>00961     <span class="keyword">virtual</span> <span class="keywordtype">void</span> toString(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;ti, std::string &amp;s) = 0;
<a name="l00962"></a>00962     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l00963"></a>00963     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l00964"></a>00964     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l00965"></a>00965                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l00966"></a>00966     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l00967"></a>00967                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l00968"></a>00968 
<a name="l00969"></a>00969   <span class="keyword">protected</span>:
<a name="l00970"></a>00970     ConstraintInfo(<a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029">ConstraintTypeCode</a> constraintType,
<a name="l00971"></a>00971                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> version);
<a name="l00972"></a>00972 
<a name="l00973"></a>00973   <span class="keyword">private</span>:
<a name="l00974"></a>00974     <a class="code" href="classtmudr_1_1ConstraintInfo.html#a10e620641613b68ca5a9c063f3ed5029">ConstraintTypeCode</a> constraintType_;
<a name="l00975"></a>00975   };
<a name="l00976"></a>00976 
<a name="l00986"></a><a class="code" href="classtmudr_1_1CardinalityConstraintInfo.html">00986</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1CardinalityConstraintInfo.html" title="A cardinality constraint.">CardinalityConstraintInfo</a> : <span class="keyword">public</span> <a class="code" href="classtmudr_1_1ConstraintInfo.html" title="A constraint on a table-valued input or output table.">ConstraintInfo</a>
<a name="l00987"></a>00987   {
<a name="l00988"></a>00988   <span class="keyword">public</span>: 
<a name="l00989"></a>00989     <a class="code" href="classtmudr_1_1CardinalityConstraintInfo.html#aa25bef11164f258550666409889986aa">CardinalityConstraintInfo</a>(<span class="keywordtype">long</span> minNumRows = 0,
<a name="l00990"></a>00990                               <span class="keywordtype">long</span> maxNumRows = -1);
<a name="l00991"></a>00991 
<a name="l00992"></a>00992     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1CardinalityConstraintInfo.html#a56857ab936894a5e38302e1ab52c4373">getMinNumRows</a>() <span class="keyword">const</span>;
<a name="l00993"></a>00993     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1CardinalityConstraintInfo.html#a00601c3f04c4bf11efb94f8d2425af10">getMaxNumRows</a>() <span class="keyword">const</span>;
<a name="l00994"></a>00994 
<a name="l00995"></a>00995     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l00996"></a>00996     <span class="keyword">virtual</span> <span class="keywordtype">void</span> toString(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;ti, std::string &amp;s);
<a name="l00997"></a>00997     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l00998"></a>00998     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l00999"></a>00999     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01000"></a>01000                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01001"></a>01001     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01002"></a>01002                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01003"></a>01003 
<a name="l01004"></a>01004   <span class="keyword">private</span>:
<a name="l01005"></a>01005 
<a name="l01006"></a>01006     <span class="keywordtype">long</span> minNumRows_;
<a name="l01007"></a>01007     <span class="keywordtype">long</span> maxNumRows_;
<a name="l01008"></a>01008   };
<a name="l01009"></a>01009 
<a name="l01016"></a><a class="code" href="classtmudr_1_1UniqueConstraintInfo.html">01016</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1UniqueConstraintInfo.html" title="A uniqueness constraint.">UniqueConstraintInfo</a> : <span class="keyword">public</span> <a class="code" href="classtmudr_1_1ConstraintInfo.html" title="A constraint on a table-valued input or output table.">ConstraintInfo</a>
<a name="l01017"></a>01017   {
<a name="l01018"></a>01018   <span class="keyword">public</span>:
<a name="l01019"></a>01019     <a class="code" href="classtmudr_1_1UniqueConstraintInfo.html#a369e24f52470dac46c051d072255590e">UniqueConstraintInfo</a>();
<a name="l01020"></a>01020     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UniqueConstraintInfo.html#ad47e14ccc5fe2c1e1740fa7fc1ea0bf7">getNumUniqueColumns</a>() <span class="keyword">const</span>;
<a name="l01021"></a>01021     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UniqueConstraintInfo.html#ae781aff62acfd3745b91d08b2246a5b5">getUniqueColumn</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01022"></a>01022     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UniqueConstraintInfo.html#a20b7a861cebf2362c707a5da433e4a62">addColumn</a>(<span class="keywordtype">int</span> c);
<a name="l01023"></a>01023 
<a name="l01024"></a>01024     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01025"></a>01025     <span class="keyword">virtual</span> <span class="keywordtype">void</span> toString(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;ti, std::string &amp;s);
<a name="l01026"></a>01026     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01027"></a>01027     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01028"></a>01028     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01029"></a>01029                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01030"></a>01030     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01031"></a>01031                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01032"></a>01032 
<a name="l01033"></a>01033   <span class="keyword">private</span>:
<a name="l01034"></a>01034 
<a name="l01035"></a>01035     std::vector&lt;int&gt; uniqueColumns_;
<a name="l01036"></a>01036   };
<a name="l01037"></a>01037 
<a name="l01045"></a><a class="code" href="classtmudr_1_1PredicateInfo.html">01045</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1PredicateInfo.html" title="A predicate to be evaluated on a table.">PredicateInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l01046"></a>01046   {
<a name="l01047"></a>01047   <span class="keyword">public</span>:
<a name="l01048"></a>01048 
<a name="l01056"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232">01056</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232" title="Info on whether a table-valued input or output column is used.">EvaluationCode</a>
<a name="l01057"></a>01057       {
<a name="l01058"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232a9a9d393cf0eee2d3f06d72ff09922ed5">01058</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232a9a9d393cf0eee2d3f06d72ff09922ed5">UNKNOWN_EVAL</a>        = 0,     
<a name="l01059"></a>01059 
<a name="l01060"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232aaa9bf12167c7575208c449d059c957b2">01060</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232aaa9bf12167c7575208c449d059c957b2">EVALUATE_ON_RESULT</a>  = 0x1,   
<a name="l01061"></a>01061 
<a name="l01062"></a>01062 
<a name="l01063"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232a166c3ebfedcb9c566daf6a114da8c15f">01063</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232a166c3ebfedcb9c566daf6a114da8c15f">EVALUATE_IN_UDF</a>     = 0x2,   
<a name="l01064"></a>01064 
<a name="l01065"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232ac9e7ffa3c75fe7571cf22a1d8c33301b">01065</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232ac9e7ffa3c75fe7571cf22a1d8c33301b">EVALUATE_IN_CHILD</a>   = 0x4    
<a name="l01066"></a>01066 
<a name="l01067"></a>01067 
<a name="l01068"></a>01068       };
<a name="l01069"></a>01069 
<a name="l01071"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5">01071</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5">PredOperator</a>
<a name="l01072"></a>01072       {
<a name="l01073"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5acc2e2fe0b00dd8f64160e946a68db97b">01073</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5acc2e2fe0b00dd8f64160e946a68db97b" title="Operator not yet determined.">UNKNOWN_OP</a>,     
<a name="l01074"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5aa74af3680d17b0a31a5aeb71132e22a8">01074</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5aa74af3680d17b0a31a5aeb71132e22a8" title="Equals predicate (col = val).">EQUAL</a>,          
<a name="l01075"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a50262f568344c15cc0d3ac289e91523f">01075</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a50262f568344c15cc0d3ac289e91523f" title="Not equals predicate (col &amp;lt;&amp;gt; val).">NOT_EQUAL</a>,      
<a name="l01076"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5aef604ed2edbce4fe1605c93f8f1cf8b4">01076</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5aef604ed2edbce4fe1605c93f8f1cf8b4" title="Less than predicate (col &amp;lt;).">LESS</a>,           
<a name="l01077"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5ab1330d4ccc7637cb80d672e28cff95a6">01077</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5ab1330d4ccc7637cb80d672e28cff95a6" title="Less or equals predicate (col &amp;lt;=).">LESS_EQUAL</a>,     
<a name="l01078"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a7c978537b911c81d78f3db4a91a012c7">01078</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a7c978537b911c81d78f3db4a91a012c7" title="Greater predicate (col &amp;gt;).">GREATER</a>,        
<a name="l01079"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a5efc4c3d6b386d347ae3af5946e240e9">01079</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a5efc4c3d6b386d347ae3af5946e240e9" title="Greater or equals predicate (col &amp;gt;=).">GREATER_EQUAL</a>,  
<a name="l01080"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a93914d26fbbf66d58952c891a94ccf59">01080</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5a93914d26fbbf66d58952c891a94ccf59" title="IN predicate (col IN).">IN</a>,             
<a name="l01081"></a><a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5ad3393b6e03346f32766ddcad5de5eed9">01081</a>         <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5ad3393b6e03346f32766ddcad5de5eed9" title="NOT IN predicate (col NOT IN).">NOT_IN</a>          
<a name="l01082"></a>01082       };
<a name="l01083"></a>01083 
<a name="l01084"></a>01084 
<a name="l01085"></a>01085     <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232" title="Info on whether a table-valued input or output column is used.">EvaluationCode</a> <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2ef2035fddfe7375d8fecaae94528c9">getEvaluationCode</a>() <span class="keyword">const</span>;
<a name="l01086"></a>01086     <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5">PredOperator</a> <a class="code" href="classtmudr_1_1PredicateInfo.html#aaaae2bb25f6c7e95cf74666649e615b2">getOperator</a>() <span class="keyword">const</span>;
<a name="l01087"></a>01087     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1PredicateInfo.html#aff4280afceebaa23faf6804748d1c719">isAComparisonPredicate</a>() <span class="keyword">const</span>;
<a name="l01088"></a>01088 
<a name="l01089"></a>01089     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01090"></a>01090     <a class="code" href="classtmudr_1_1PredicateInfo.html" title="A predicate to be evaluated on a table.">PredicateInfo</a>(TMUDRSerializableObject::TMUDRObjectType t);
<a name="l01091"></a>01091     <span class="keywordtype">void</span> setOperator(<a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5">PredOperator</a> op);
<a name="l01092"></a>01092     <span class="keywordtype">void</span> setEvaluationCode(<a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232" title="Info on whether a table-valued input or output column is used.">EvaluationCode</a> c);
<a name="l01093"></a>01093     <span class="keyword">virtual</span> <span class="keywordtype">void</span> mapColumnNumbers(<span class="keyword">const</span> std::vector&lt;int&gt; &amp;map) = 0;
<a name="l01094"></a>01094     <span class="keyword">virtual</span> <span class="keywordtype">void</span> toString(std::string &amp;s,
<a name="l01095"></a>01095                           <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;ti) <span class="keyword">const</span> = 0;
<a name="l01096"></a>01096 
<a name="l01097"></a>01097     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01098"></a>01098     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01099"></a>01099     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01100"></a>01100                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01101"></a>01101     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01102"></a>01102                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01103"></a>01103 
<a name="l01104"></a>01104   <span class="keyword">private</span>:
<a name="l01105"></a>01105 
<a name="l01106"></a>01106     <span class="keywordtype">int</span> evalCode_;
<a name="l01107"></a>01107     <a class="code" href="classtmudr_1_1PredicateInfo.html#ab22c05aab4b2ec61421fc2d9efa9f2b5">PredOperator</a> operator_;
<a name="l01108"></a>01108 
<a name="l01109"></a>01109   };
<a name="l01110"></a>01110 
<a name="l01119"></a><a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html">01119</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html" title="A comparison predicate to be evaluated on a table.">ComparisonPredicateInfo</a> : <span class="keyword">public</span> <a class="code" href="classtmudr_1_1PredicateInfo.html" title="A predicate to be evaluated on a table.">PredicateInfo</a>
<a name="l01120"></a>01120   {
<a name="l01121"></a>01121   <span class="keyword">public</span>:
<a name="l01122"></a>01122 
<a name="l01123"></a>01123     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html#ac25f0e26029a86b884c719d571ec8b1e">getColumnNumber</a>() <span class="keyword">const</span>;
<a name="l01124"></a>01124     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html#a79b249f4d7719b7fb2348c50b5dd3f33">hasAConstantValue</a>() <span class="keyword">const</span>;
<a name="l01125"></a>01125     std::string <a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html#a4f49fa3520e789ba5f14e722ba1caec7">getConstValue</a>() <span class="keyword">const</span>;
<a name="l01126"></a>01126 
<a name="l01127"></a>01127     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01128"></a>01128     <a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html" title="A comparison predicate to be evaluated on a table.">ComparisonPredicateInfo</a>();
<a name="l01129"></a>01129     <span class="keywordtype">void</span> setColumnNumber(<span class="keywordtype">int</span> columnNumber);
<a name="l01130"></a>01130     <span class="keywordtype">void</span> setValue(<span class="keyword">const</span> <span class="keywordtype">char</span> *value);
<a name="l01131"></a>01131     <span class="keyword">virtual</span> <span class="keywordtype">void</span> mapColumnNumbers(<span class="keyword">const</span> std::vector&lt;int&gt; &amp;map);
<a name="l01132"></a>01132     <span class="keyword">virtual</span> <span class="keywordtype">void</span> toString(std::string &amp;s,
<a name="l01133"></a>01133                           <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;ti) <span class="keyword">const</span>;
<a name="l01134"></a>01134 
<a name="l01135"></a>01135     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01136"></a>01136     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01137"></a>01137     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01138"></a>01138                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01139"></a>01139     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01140"></a>01140                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01141"></a>01141 
<a name="l01142"></a>01142   <span class="keyword">private</span>:
<a name="l01143"></a>01143 
<a name="l01144"></a>01144     <span class="keywordtype">int</span> columnNumber_;
<a name="l01145"></a>01145     std::string value_;
<a name="l01146"></a>01146 
<a name="l01147"></a>01147   };
<a name="l01148"></a>01148 
<a name="l01149"></a>01149 
<a name="l01163"></a><a class="code" href="classtmudr_1_1PartitionInfo.html">01163</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1PartitionInfo.html" title="Partitioning key of an input table or result table.">PartitionInfo</a>
<a name="l01164"></a>01164   {
<a name="l01165"></a>01165   <span class="keyword">public</span>:
<a name="l01166"></a>01166 
<a name="l01168"></a><a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47">01168</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47">PartitionTypeCode</a>
<a name="l01169"></a>01169       {
<a name="l01170"></a><a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47a8a99eef243aad98789ee3baf4cb19256">01170</a>         <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47a8a99eef243aad98789ee3baf4cb19256" title="Partitioning type not yet determined.">UNKNOWN</a>,   
<a name="l01171"></a><a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47a30b6fa8e98526ba1e69dc2bf79cbcb67">01171</a>         <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47a30b6fa8e98526ba1e69dc2bf79cbcb67">ANY</a>,       
<a name="l01172"></a>01172 
<a name="l01173"></a>01173 
<a name="l01174"></a><a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47ac2f6cb09339e246ac6cab9c134303936">01174</a>         <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47ac2f6cb09339e246ac6cab9c134303936">SERIAL</a>,    
<a name="l01175"></a>01175 
<a name="l01176"></a><a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47ae906e2c99d706593c99cbfbe4a611714">01176</a>         <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47ae906e2c99d706593c99cbfbe4a611714">PARTITION</a>, 
<a name="l01177"></a>01177 
<a name="l01178"></a><a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47a5538c1623f9dcbaa55d17eb64d3050c4">01178</a>         <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47a5538c1623f9dcbaa55d17eb64d3050c4" title="Replicate the data to each parallel instance.">REPLICATE</a>  
<a name="l01179"></a>01179       };
<a name="l01180"></a>01180 
<a name="l01181"></a>01181     <span class="comment">// const Functions for use by UDR writer, both at compile and at run time</span>
<a name="l01182"></a>01182     <a class="code" href="classtmudr_1_1PartitionInfo.html#ae1411139831696fa77091527bd84aaed">PartitionInfo</a>();
<a name="l01183"></a>01183     <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47">PartitionTypeCode</a> <a class="code" href="classtmudr_1_1PartitionInfo.html#a6ecd4b61fd57efd8266b27015bb7aef6">getType</a>() <span class="keyword">const</span>;
<a name="l01184"></a>01184     
<a name="l01185"></a>01185 
<a name="l01186"></a>01186     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1PartitionInfo.html#a429004207edd57047104326d88d81e99">getNumEntries</a>() <span class="keyword">const</span>;
<a name="l01187"></a>01187     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1PartitionInfo.html#a41154eead77fd72a178778feaa560424">getColumnNum</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01188"></a>01188 
<a name="l01189"></a>01189     <span class="comment">// Functions available at compile time only</span>
<a name="l01190"></a>01190     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1PartitionInfo.html#a26c772d4aa4e4531bf4bd702f80e3d96">setType</a>(<a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47">PartitionTypeCode</a> type);
<a name="l01191"></a>01191     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1PartitionInfo.html#aa6f04c586f8f76c9213507c4c76d9500">addEntry</a>(<span class="keywordtype">int</span> colNum);
<a name="l01192"></a>01192     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1PartitionInfo.html#a27f3f1be7211f858211aad76e0f13604">clear</a>();
<a name="l01193"></a>01193 
<a name="l01194"></a>01194     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01195"></a>01195     <span class="keywordtype">void</span> mapColumnNumbers(<span class="keyword">const</span> std::vector&lt;int&gt; &amp;map);
<a name="l01196"></a>01196 
<a name="l01197"></a>01197   <span class="keyword">private</span>:
<a name="l01198"></a>01198 
<a name="l01199"></a>01199     <a class="code" href="classtmudr_1_1PartitionInfo.html#a00d9199b7b9ded5c9f6c2d2aadf16e47">PartitionTypeCode</a> type_;
<a name="l01200"></a>01200     std::vector&lt;int&gt;  partCols_;
<a name="l01201"></a>01201 };
<a name="l01202"></a>01202 
<a name="l01210"></a><a class="code" href="classtmudr_1_1OrderInfo.html">01210</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1OrderInfo.html" title="Ordering of a table by some ascending or descending columns.">OrderInfo</a>
<a name="l01211"></a>01211   {
<a name="l01212"></a>01212   <span class="keyword">public</span>:
<a name="l01213"></a>01213 
<a name="l01223"></a><a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664c">01223</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664c" title="Ascending/descending order of columns.">OrderTypeCode</a>
<a name="l01224"></a>01224       {
<a name="l01225"></a><a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca6d13be11b628da60b716cbe1defdefcc">01225</a>         <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca6d13be11b628da60b716cbe1defdefcc" title="Unspecified order.">NO_ORDER</a>,  
<a name="l01226"></a><a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca9f5d23e242952104222576f9ab331ad4">01226</a>         <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca9f5d23e242952104222576f9ab331ad4" title="Ascending order.">ASCENDING</a>, 
<a name="l01227"></a><a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca4b7811d9e06b5befccfb56ef27fee64b">01227</a>         <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca4b7811d9e06b5befccfb56ef27fee64b" title="Descending order.">DESCENDING</a> 
<a name="l01228"></a>01228       };
<a name="l01229"></a>01229 
<a name="l01230"></a>01230     <span class="comment">// const Functions for use by UDR writer, both at compile and at run time</span>
<a name="l01231"></a>01231     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1OrderInfo.html#a98f1be7578ab034d00919d3f8b5ac037">getNumEntries</a>() <span class="keyword">const</span>;
<a name="l01232"></a>01232     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1OrderInfo.html#ad2ce0a427824990fb577c99465307667">getColumnNum</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01233"></a>01233     <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664c" title="Ascending/descending order of columns.">OrderTypeCode</a> <a class="code" href="classtmudr_1_1OrderInfo.html#acffea7ba665daca1bf67b15ca62c7a18">getOrderType</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01234"></a>01234 
<a name="l01235"></a>01235     <span class="comment">// Functions available at compile time only</span>
<a name="l01236"></a>01236     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1OrderInfo.html#a5b74383fb58f2003fcbab8daaf69194a">addEntry</a>(<span class="keywordtype">int</span> colNum, <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664c" title="Ascending/descending order of columns.">OrderTypeCode</a> orderType = <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca9f5d23e242952104222576f9ab331ad4" title="Ascending order.">ASCENDING</a>);
<a name="l01237"></a>01237     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1OrderInfo.html#a672fd00b856f225c189de7adce65cf30">addEntryAt</a>(<span class="keywordtype">int</span> pos,
<a name="l01238"></a>01238                     <span class="keywordtype">int</span> colNum,
<a name="l01239"></a>01239                     <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664c" title="Ascending/descending order of columns.">OrderTypeCode</a> orderType = <a class="code" href="classtmudr_1_1OrderInfo.html#a6dc71ab80df38d3c3fe0d060ac03664ca9f5d23e242952104222576f9ab331ad4" title="Ascending order.">ASCENDING</a>);
<a name="l01240"></a>01240     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1OrderInfo.html#aceceec297c0709e19003dec60f149305">clear</a>();
<a name="l01241"></a>01241 
<a name="l01242"></a>01242     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01243"></a>01243     <span class="keywordtype">void</span> mapColumnNumbers(<span class="keyword">const</span> std::vector&lt;int&gt; &amp;map);
<a name="l01244"></a>01244 
<a name="l01245"></a>01245   <span class="keyword">private</span>:
<a name="l01246"></a>01246     std::vector&lt;int&gt; columnNumbers_;
<a name="l01247"></a>01247     std::vector&lt;OrderTypeCode&gt; orderTypes_;
<a name="l01248"></a>01248   };
<a name="l01249"></a>01249 
<a name="l01250"></a>01250 
<a name="l01258"></a><a class="code" href="classtmudr_1_1TupleInfo.html">01258</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1TupleInfo.html" title="Common base class for parameter lists and row layouts.">TupleInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l01259"></a>01259   {
<a name="l01260"></a>01260   <span class="keyword">public</span>: 
<a name="l01261"></a>01261 
<a name="l01262"></a>01262     <span class="comment">// Functions for use by UDR writer, both at compile and at run time</span>
<a name="l01263"></a>01263     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a9414181fd102b20706eabf561f0d6dd3">getNumColumns</a>() <span class="keyword">const</span>;
<a name="l01264"></a>01264     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a364c0f7153519e21e5d10ea8f54f6e25">getColNum</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *colName) <span class="keyword">const</span>;
<a name="l01265"></a>01265     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a364c0f7153519e21e5d10ea8f54f6e25">getColNum</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01266"></a>01266     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;<a class="code" href="classtmudr_1_1TupleInfo.html#a460d01d871fe2be13ee90e9c5ce9f930">getColumn</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01267"></a>01267     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;<a class="code" href="classtmudr_1_1TupleInfo.html#a460d01d871fe2be13ee90e9c5ce9f930">getColumn</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01268"></a>01268     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TypeInfo.html" title="Data types in the UDR interface.">TypeInfo</a> &amp;<a class="code" href="classtmudr_1_1TupleInfo.html#a21b3421c855b85a3a9186a8c37d5637b">getType</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01269"></a>01269     <a class="code" href="classtmudr_1_1TypeInfo.html#a9804443638ca97a8e5dbfeebe0d08ca6">TypeInfo::SQLTypeClassCode</a> <a class="code" href="classtmudr_1_1TupleInfo.html#a3b0d60692c6fa1e2b768908ae95095e9">getSQLTypeClass</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01270"></a>01270 
<a name="l01271"></a>01271     <span class="comment">// get values at runtime and also values of available</span>
<a name="l01272"></a>01272     <span class="comment">// constant input parameters at compile time</span>
<a name="l01273"></a>01273     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TupleInfo.html#afb5f2131ce96a7cfb541d1147b025e76">getInt</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01274"></a>01274     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TupleInfo.html#afb5f2131ce96a7cfb541d1147b025e76">getInt</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01275"></a>01275     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a11fd53d410ffee07bb2bbde927913e47">getLong</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01276"></a>01276     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a11fd53d410ffee07bb2bbde927913e47">getLong</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01277"></a>01277     <span class="keywordtype">double</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a49614778f7d1988a262bab185a4f0ce2">getDouble</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01278"></a>01278     <span class="keywordtype">double</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a49614778f7d1988a262bab185a4f0ce2">getDouble</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01279"></a>01279     std::string <a class="code" href="classtmudr_1_1TupleInfo.html#a84e1379f2809a1cf6adef8dccbcba836">getString</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01280"></a>01280     std::string <a class="code" href="classtmudr_1_1TupleInfo.html#a84e1379f2809a1cf6adef8dccbcba836">getString</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01281"></a>01281     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1TupleInfo.html#ab3391ad53c5abadb13dac6249be9d7bc">getBoolean</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01282"></a>01282     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1TupleInfo.html#ab3391ad53c5abadb13dac6249be9d7bc">getBoolean</a>(<span class="keyword">const</span> std::string &amp;colName) <span class="keyword">const</span>;
<a name="l01283"></a>01283     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classtmudr_1_1TupleInfo.html#ab7ed8aa0f36a9dd2a5570128f5eb12a1">getRaw</a>(<span class="keywordtype">int</span> colNum, <span class="keywordtype">int</span> &amp;byteLen) <span class="keyword">const</span>;
<a name="l01284"></a>01284     time_t <a class="code" href="classtmudr_1_1TupleInfo.html#a53ea8b479aa67e9d1b19aad2ea16411d">getTime</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01285"></a>01285     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1TupleInfo.html#adae91c6ed0e61babc2fe71fcb53091fa">isAvailable</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01286"></a>01286     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#ac6a3327145169b0ce9bb3637d665170f">getDelimitedRow</a>(std::string &amp;row,
<a name="l01287"></a>01287                          <span class="keywordtype">char</span> delim=<span class="charliteral">&apos;|&apos;</span>,
<a name="l01288"></a>01288                          <span class="keywordtype">bool</span> quote = <span class="keyword">false</span>,
<a name="l01289"></a>01289                          <span class="keywordtype">char</span> quoteSymbol = <span class="charliteral">&apos;&quot;&apos;</span>,
<a name="l01290"></a>01290                          <span class="keywordtype">int</span> firstColumn = 0,
<a name="l01291"></a>01291                          <span class="keywordtype">int</span> lastColumn = -1) <span class="keyword">const</span>;
<a name="l01292"></a>01292     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a8aaa05953f4d2b349923224443a7c1d7">wasNull</a>() <span class="keyword">const</span>; <span class="comment">// did getXXX() method return a NULL?</span>
<a name="l01293"></a>01293 
<a name="l01294"></a>01294     <span class="comment">// non-const methods, used during runtime only</span>
<a name="l01295"></a>01295     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a57ef5a6d63c758726572e0f920a59165">setInt</a>(<span class="keywordtype">int</span> colNum, <span class="keywordtype">int</span> val) <span class="keyword">const</span>;
<a name="l01296"></a>01296     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a197fb1a81a24e8f296e66afb4fdc7fd4">setLong</a>(<span class="keywordtype">int</span> colNum, <span class="keywordtype">long</span> val) <span class="keyword">const</span>;
<a name="l01297"></a>01297     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a53aa76fd23f08d77a259e71041cb0593">setDouble</a>(<span class="keywordtype">int</span> colNum, <span class="keywordtype">double</span> val) <span class="keyword">const</span>;
<a name="l01298"></a>01298     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a206b6845bcbfa47de0843447142199c1">setString</a>(<span class="keywordtype">int</span> colNum, <span class="keyword">const</span> <span class="keywordtype">char</span> *val) <span class="keyword">const</span>;
<a name="l01299"></a>01299     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a206b6845bcbfa47de0843447142199c1">setString</a>(<span class="keywordtype">int</span> colNum, <span class="keyword">const</span> <span class="keywordtype">char</span> *val, <span class="keywordtype">int</span> stringLen) <span class="keyword">const</span>;
<a name="l01300"></a>01300     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a206b6845bcbfa47de0843447142199c1">setString</a>(<span class="keywordtype">int</span> colNum, <span class="keyword">const</span> std::string &amp;val) <span class="keyword">const</span>;
<a name="l01301"></a>01301     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a1b988ee0269c747eadea2857dc644efd">setTime</a>(<span class="keywordtype">int</span> colNum, time_t val) <span class="keyword">const</span>;
<a name="l01302"></a>01302     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a017468a30a494b09e206299db69394e6">setBoolean</a>(<span class="keywordtype">int</span> colNum, <span class="keywordtype">bool</span> val) <span class="keyword">const</span>;
<a name="l01303"></a>01303     <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="classtmudr_1_1TupleInfo.html#a374da12aaec8a620afedf7eb5f0e19f3">setFromDelimitedRow</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *row,
<a name="l01304"></a>01304                                      <span class="keywordtype">char</span> delim=<span class="charliteral">&apos;|&apos;</span>,
<a name="l01305"></a>01305                                      <span class="keywordtype">bool</span> quote = <span class="keyword">false</span>,
<a name="l01306"></a>01306                                      <span class="keywordtype">char</span> quoteSymbol = <span class="charliteral">&apos;&quot;&apos;</span>,
<a name="l01307"></a>01307                                      <span class="keywordtype">int</span> firstColumnToSet = 0,
<a name="l01308"></a>01308                                      <span class="keywordtype">int</span> lastColumnToSet = -1,
<a name="l01309"></a>01309                                      <span class="keywordtype">int</span> numDelimColsToSkip = 0) <span class="keyword">const</span>;
<a name="l01310"></a>01310     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a4bca6c587b8995e0e6d074e086d998a7">setNull</a>(<span class="keywordtype">int</span> colNum) <span class="keyword">const</span>;
<a name="l01311"></a>01311 
<a name="l01312"></a>01312     <span class="comment">// non-const methods, used during compile time only</span>
<a name="l01313"></a>01313     <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;<a class="code" href="classtmudr_1_1TupleInfo.html#a460d01d871fe2be13ee90e9c5ce9f930">getColumn</a>(<span class="keywordtype">int</span> colNum);
<a name="l01314"></a>01314     <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;<a class="code" href="classtmudr_1_1TupleInfo.html#a460d01d871fe2be13ee90e9c5ce9f930">getColumn</a>(<span class="keyword">const</span> std::string &amp;colName);
<a name="l01315"></a>01315     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a597bb78ac5815850d014e1ad3d1340eb">addColumn</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;column);
<a name="l01316"></a>01316 
<a name="l01317"></a>01317     <span class="comment">// for convenient adding of columns of a common type</span>
<a name="l01318"></a>01318     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#ac45f91bb0400a5030e087bdb2ce3acf1">addIntColumn</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *colName, <span class="keywordtype">bool</span> isNullable = <span class="keyword">false</span>);
<a name="l01319"></a>01319     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a9f4c7996f9eefca3ebe9823dcec89607">addLongColumn</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *colName, <span class="keywordtype">bool</span> isNullable = <span class="keyword">false</span>);
<a name="l01320"></a>01320         <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#ae3a882a83201d49b0933b6d189e54c1d">addDoubleColumn</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *colName, <span class="keywordtype">bool</span> isNullable = <span class="keyword">false</span>);
<a name="l01321"></a>01321     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a8952e96505708cbde4ff3f611fdaf613">addCharColumn</a>(
<a name="l01322"></a>01322          <span class="keyword">const</span> <span class="keywordtype">char</span> *colName,
<a name="l01323"></a>01323          <span class="keywordtype">int</span> length,
<a name="l01324"></a>01324          <span class="keywordtype">bool</span> isNullable = <span class="keyword">false</span>,
<a name="l01325"></a>01325          <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">TypeInfo::SQLCharsetCode</a> charset = <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619dabc8b5a700e0bfd85293e6e9f6f7f95bb" title="UTF-8, 1-4 byte Unicode encoding, length is in bytes.">TypeInfo::CHARSET_UTF8</a>,
<a name="l01326"></a>01326          <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">TypeInfo::SQLCollationCode</a> collation = <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568afaf17174e4d03374f3953af1455ede55">TypeInfo::SYSTEM_COLLATION</a>);
<a name="l01327"></a>01327     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#ad8be3c967e7dabf8b80a8ee6366736b1">addVarCharColumn</a>(
<a name="l01328"></a>01328          <span class="keyword">const</span> <span class="keywordtype">char</span> *colName,
<a name="l01329"></a>01329          <span class="keywordtype">int</span> length,
<a name="l01330"></a>01330          <span class="keywordtype">bool</span> isNullable = <span class="keyword">false</span>,
<a name="l01331"></a>01331          <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619d">TypeInfo::SQLCharsetCode</a> charset = <a class="code" href="classtmudr_1_1TypeInfo.html#a66c9cc313ff649857e47285a80af619dabc8b5a700e0bfd85293e6e9f6f7f95bb" title="UTF-8, 1-4 byte Unicode encoding, length is in bytes.">TypeInfo::CHARSET_UTF8</a>,
<a name="l01332"></a>01332          <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568">TypeInfo::SQLCollationCode</a> collation = <a class="code" href="classtmudr_1_1TypeInfo.html#ab0390570f1a369a2ad216999bf033568afaf17174e4d03374f3953af1455ede55">TypeInfo::SYSTEM_COLLATION</a>);
<a name="l01333"></a>01333 
<a name="l01334"></a>01334     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a8aedec53dff3ec91f2b71ce30c5aa6ae">addColumns</a>(<span class="keyword">const</span> std::vector&lt;ColumnInfo *&gt; &amp;columns);
<a name="l01335"></a>01335     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a5e340f907ceaa51373508ff192078980">addColumnAt</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;column, <span class="keywordtype">int</span> position);
<a name="l01336"></a>01336     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#aef3d85a827d91f938648856b7b08768b">deleteColumn</a>(<span class="keywordtype">int</span> i);
<a name="l01337"></a>01337     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#aef3d85a827d91f938648856b7b08768b">deleteColumn</a>(<span class="keyword">const</span> std::string &amp;name);
<a name="l01338"></a>01338 
<a name="l01339"></a>01339     <span class="comment">// useful for cost estimation</span>
<a name="l01340"></a>01340     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TupleInfo.html#a7befa22db4c7ae677da681dc13d3ef99">getRecordLength</a>() <span class="keyword">const</span>;
<a name="l01341"></a>01341 
<a name="l01342"></a>01342     <span class="comment">// Functions for debugging</span>
<a name="l01343"></a>01343     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TupleInfo.html#aa5309f0edb4901f0e07f0e8010ca63d6">print</a>();
<a name="l01344"></a>01344 
<a name="l01345"></a>01345     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01346"></a>01346     <a class="code" href="classtmudr_1_1TupleInfo.html" title="Common base class for parameter lists and row layouts.">TupleInfo</a>(TMUDRObjectType objType, <span class="keywordtype">int</span> version);
<a name="l01347"></a>01347     ~<a class="code" href="classtmudr_1_1TupleInfo.html" title="Common base class for parameter lists and row layouts.">TupleInfo</a>();
<a name="l01348"></a>01348     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01349"></a>01349     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01350"></a>01350     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01351"></a>01351                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01352"></a>01352     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01353"></a>01353                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01354"></a>01354     <span class="keywordtype">char</span> *getRowPtr() <span class="keyword">const</span>;
<a name="l01355"></a>01355 
<a name="l01356"></a>01356   <span class="keyword">protected</span>:
<a name="l01357"></a>01357 
<a name="l01358"></a>01358     <span class="keywordtype">void</span> setRecordLength(<span class="keywordtype">int</span> len);
<a name="l01359"></a>01359     <span class="keywordtype">void</span> setRowPtr(<span class="keywordtype">char</span> *ptr);
<a name="l01360"></a>01360 
<a name="l01361"></a>01361     <span class="comment">// this object owns all the ColumnInfo objects</span>
<a name="l01362"></a>01362     <span class="comment">// contained in its data members, and the destructor will delete them,</span>
<a name="l01363"></a>01363     <span class="comment">// but this object does NOT own the buffer pointed to by rowPtr_</span>
<a name="l01364"></a>01364 
<a name="l01365"></a>01365     std::vector&lt;ColumnInfo *&gt;     columns_;
<a name="l01366"></a>01366     <span class="keywordtype">int</span>                           recordLength_;
<a name="l01367"></a>01367     <span class="keywordtype">char</span> *                        rowPtr_;
<a name="l01368"></a>01368     <span class="keywordtype">bool</span>                          wasNull_;
<a name="l01369"></a>01369     
<a name="l01370"></a>01370     <span class="comment">// this class is used by the Trafodion compiler</span>
<a name="l01371"></a>01371     <span class="keyword">friend</span> class ::TMUDFInternalSetup;
<a name="l01372"></a>01372     <span class="keyword">friend</span> class ::LmRoutineCppObj;
<a name="l01373"></a>01373   };
<a name="l01374"></a>01374 
<a name="l01379"></a><a class="code" href="classtmudr_1_1TableInfo.html">01379</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> : <span class="keyword">public</span> <a class="code" href="classtmudr_1_1TupleInfo.html" title="Common base class for parameter lists and row layouts.">TupleInfo</a>
<a name="l01380"></a>01380   {
<a name="l01381"></a>01381   <span class="keyword">public</span>: 
<a name="l01382"></a>01382 
<a name="l01383"></a>01383     <span class="comment">// Functions for use by UDR writer, both at compile and at run time</span>
<a name="l01384"></a>01384     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1TableInfo.html#a9e63ae35e6b9c81665b135cc72cad148">getEstimatedNumRows</a>() <span class="keyword">const</span>;
<a name="l01385"></a>01385     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1TableInfo.html#a556051776b5923cfea52d31fbad0488d">getEstimatedNumPartitions</a>() <span class="keyword">const</span>;
<a name="l01386"></a>01386     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1PartitionInfo.html" title="Partitioning key of an input table or result table.">PartitionInfo</a> &amp;<a class="code" href="classtmudr_1_1TableInfo.html#a038b9d3edbcedeca862387e8b2016834">getQueryPartitioning</a>() <span class="keyword">const</span>;
<a name="l01387"></a>01387     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1OrderInfo.html" title="Ordering of a table by some ascending or descending columns.">OrderInfo</a> &amp;<a class="code" href="classtmudr_1_1TableInfo.html#a32fdcae378a69382c5f6eb9d8cfebc11">getQueryOrdering</a>() <span class="keyword">const</span>;
<a name="l01388"></a>01388     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1TableInfo.html#af97dc6286cfc8bcd35aad040c701bfa6">isStream</a>() <span class="keyword">const</span>;
<a name="l01389"></a>01389     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1TableInfo.html#a5b6c9eef3fad9673888dd34103052bd9">getNumConstraints</a>() <span class="keyword">const</span>;
<a name="l01390"></a>01390     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ConstraintInfo.html" title="A constraint on a table-valued input or output table.">ConstraintInfo</a> &amp;<a class="code" href="classtmudr_1_1TableInfo.html#a145117852f07eade23dc0a9eaaf22847">getConstraint</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01391"></a>01391 
<a name="l01392"></a>01392     <span class="comment">// non-const methods, used during compile time only</span>
<a name="l01393"></a>01393     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TableInfo.html#ac86e1dbb500b697715cab5bf6369c87a">setEstimatedNumRows</a>(<span class="keywordtype">long</span> rows);
<a name="l01394"></a>01394     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TableInfo.html#a7076d7e7f07e59a06d698c77c2bfa1d7">addCardinalityConstraint</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1CardinalityConstraintInfo.html" title="A cardinality constraint.">CardinalityConstraintInfo</a> &amp;constraint);
<a name="l01395"></a>01395     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TableInfo.html#aa87fcee592d9fb0cf1afbac9aa703e72">addUniquenessConstraint</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1UniqueConstraintInfo.html" title="A uniqueness constraint.">UniqueConstraintInfo</a> &amp;constraint);
<a name="l01396"></a>01396     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TableInfo.html#ab501279c19b806fc7ee6e6a22d825fc4">setIsStream</a>(<span class="keywordtype">bool</span> stream);
<a name="l01397"></a>01397 
<a name="l01398"></a>01398     <span class="comment">// Functions for debugging</span>
<a name="l01399"></a>01399     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1TableInfo.html#a9d48ebe9458e65672fee592c1e73be5f">print</a>();
<a name="l01400"></a>01400 
<a name="l01401"></a>01401     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01402"></a>01402     <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a>();
<a name="l01403"></a>01403     ~<a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a>();
<a name="l01404"></a>01404     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01405"></a>01405     <a class="code" href="classtmudr_1_1PartitionInfo.html" title="Partitioning key of an input table or result table.">PartitionInfo</a> &amp;<a class="code" href="classtmudr_1_1TableInfo.html#a038b9d3edbcedeca862387e8b2016834">getQueryPartitioning</a>();
<a name="l01406"></a>01406     <a class="code" href="classtmudr_1_1OrderInfo.html" title="Ordering of a table by some ascending or descending columns.">OrderInfo</a> &amp;<a class="code" href="classtmudr_1_1TableInfo.html#a32fdcae378a69382c5f6eb9d8cfebc11">getQueryOrdering</a>();
<a name="l01407"></a>01407     <span class="keywordtype">void</span> setQueryPartitioning(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1PartitionInfo.html" title="Partitioning key of an input table or result table.">PartitionInfo</a> &amp;partInfo);
<a name="l01408"></a>01408     <span class="keywordtype">void</span> setQueryOrdering(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1OrderInfo.html" title="Ordering of a table by some ascending or descending columns.">OrderInfo</a> &amp;orderInfo);
<a name="l01409"></a>01409     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01410"></a>01410     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01411"></a>01411                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01412"></a>01412     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01413"></a>01413                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01414"></a>01414 
<a name="l01415"></a>01415   <span class="keyword">private</span>:
<a name="l01416"></a>01416 
<a name="l01417"></a>01417     <span class="comment">// this object owns all the ConstraintInfo objects</span>
<a name="l01418"></a>01418     <span class="comment">// contained in its data members, and the destructor will delete them</span>
<a name="l01419"></a>01419 
<a name="l01420"></a>01420     <span class="keywordtype">long</span>                          estimatedNumRows_;
<a name="l01421"></a>01421     <span class="keywordtype">long</span>                          estimatedNumPartitions_;
<a name="l01422"></a>01422     <a class="code" href="classtmudr_1_1PartitionInfo.html" title="Partitioning key of an input table or result table.">PartitionInfo</a>                 queryPartitioning_;
<a name="l01423"></a>01423     <a class="code" href="classtmudr_1_1OrderInfo.html" title="Ordering of a table by some ascending or descending columns.">OrderInfo</a>                     queryOrdering_;
<a name="l01424"></a>01424     std::vector&lt;ConstraintInfo *&gt; constraints_;
<a name="l01425"></a>01425     
<a name="l01426"></a>01426     <span class="comment">// this class is used by the Trafodion compiler</span>
<a name="l01427"></a>01427     <span class="keyword">friend</span> class ::TMUDFInternalSetup;
<a name="l01428"></a>01428   };
<a name="l01429"></a>01429 
<a name="l01439"></a><a class="code" href="classtmudr_1_1ParameterListInfo.html">01439</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1ParameterListInfo.html" title="Describes the parameters of a UDR.">ParameterListInfo</a> : <span class="keyword">public</span> <a class="code" href="classtmudr_1_1TupleInfo.html" title="Common base class for parameter lists and row layouts.">TupleInfo</a>
<a name="l01440"></a>01440   {
<a name="l01441"></a>01441   <span class="keyword">public</span>:
<a name="l01442"></a>01442 
<a name="l01443"></a>01443     <a class="code" href="classtmudr_1_1ParameterListInfo.html" title="Describes the parameters of a UDR.">ParameterListInfo</a>();
<a name="l01444"></a>01444     <span class="keyword">virtual</span> ~<a class="code" href="classtmudr_1_1ParameterListInfo.html" title="Describes the parameters of a UDR.">ParameterListInfo</a>();
<a name="l01445"></a>01445 
<a name="l01446"></a>01446     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01447"></a>01447     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01448"></a>01448     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01449"></a>01449     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01450"></a>01450                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01451"></a>01451     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01452"></a>01452                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01453"></a>01453   };
<a name="l01454"></a>01454 
<a name="l01465"></a><a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html">01465</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html" title="Compile time data owned by the UDR writer.">UDRWriterCompileTimeData</a>
<a name="l01466"></a>01466   {
<a name="l01467"></a>01467   <span class="keyword">public</span>:
<a name="l01468"></a>01468 
<a name="l01469"></a>01469     <a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html#aa8baf9c39fb18c2ed91931df9e3e2511">UDRWriterCompileTimeData</a>();
<a name="l01470"></a>01470     <span class="keyword">virtual</span> <a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html#af458898871a2a4ed99c3a18d02bd365f">~UDRWriterCompileTimeData</a>();
<a name="l01471"></a>01471 
<a name="l01472"></a>01472     <span class="comment">// Functions for debugging</span>
<a name="l01473"></a>01473     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html#a4bc7a400170505033011c37773d87fd5">print</a>();
<a name="l01474"></a>01474 
<a name="l01475"></a>01475   };
<a name="l01476"></a>01476 
<a name="l01488"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html">01488</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l01489"></a>01489   {
<a name="l01490"></a>01490   <span class="keyword">public</span>:
<a name="l01491"></a>01491 
<a name="l01495"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234">01495</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234" title="Type of a TMUDF: Generic, mapper or reducer.">FuncType</a>  <span class="comment">// The type of this UDF.</span>
<a name="l01496"></a>01496       {
<a name="l01497"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a8dcb9100d5fc6499d3f46fdbabd30d71">01497</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a8dcb9100d5fc6499d3f46fdbabd30d71">GENERIC</a>, 
<a name="l01498"></a>01498 
<a name="l01499"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a280bc2ccb82ecc8f20e75f05f0ab8e26">01499</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a280bc2ccb82ecc8f20e75f05f0ab8e26">MAPPER</a>,  
<a name="l01500"></a>01500 
<a name="l01501"></a>01501 
<a name="l01502"></a>01502 
<a name="l01503"></a>01503 
<a name="l01504"></a>01504 
<a name="l01505"></a>01505 
<a name="l01506"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a94b5e63a173450993e7723c9609e0408">01506</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a94b5e63a173450993e7723c9609e0408">REDUCER</a>, 
<a name="l01507"></a>01507 
<a name="l01508"></a>01508 
<a name="l01509"></a>01509 
<a name="l01510"></a>01510 
<a name="l01511"></a>01511 
<a name="l01512"></a>01512 
<a name="l01513"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a007c75e34f5e8f1922436f6a1b8e4ec2">01513</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234a007c75e34f5e8f1922436f6a1b8e4ec2">REDUCER_NC</a> 
<a name="l01514"></a>01514 
<a name="l01515"></a>01515 
<a name="l01516"></a>01516 
<a name="l01517"></a>01517 
<a name="l01518"></a>01518 
<a name="l01519"></a>01519       };
<a name="l01520"></a>01520 
<a name="l01524"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a5742766a2b3800bd06bbe486cafa0e0b">01524</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a5742766a2b3800bd06bbe486cafa0e0b">SQLAccessType</a>
<a name="l01525"></a>01525       {
<a name="l01526"></a>01526         CONTAINS_NO_SQL,
<a name="l01527"></a>01527         READS_SQL,
<a name="l01528"></a>01528         MODIFIES_SQL        
<a name="l01529"></a>01529       };
<a name="l01530"></a>01530 
<a name="l01534"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a0dd8a181e55e743bb9ec39b747491e1e">01534</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a0dd8a181e55e743bb9ec39b747491e1e">SQLTransactionType</a>
<a name="l01535"></a>01535       {
<a name="l01536"></a>01536         REQUIRES_NO_TRANSACTION,
<a name="l01537"></a>01537         REQUIRES_SQL_TRANSACTION
<a name="l01538"></a>01538       };
<a name="l01539"></a>01539 
<a name="l01546"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a7c38879b0268e3b20bf2cced998d93f2">01546</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a7c38879b0268e3b20bf2cced998d93f2">SQLRightsType</a>
<a name="l01547"></a>01547       {
<a name="l01548"></a>01548         INVOKERS_RIGHTS,
<a name="l01549"></a>01549         DEFINERS_RIGHTS
<a name="l01550"></a>01550       };
<a name="l01551"></a>01551 
<a name="l01555"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab8f0c182949b86f0eb01e7dd5533496d">01555</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab8f0c182949b86f0eb01e7dd5533496d">IsolationType</a>
<a name="l01556"></a>01556       {
<a name="l01557"></a>01557         ISOLATED,
<a name="l01558"></a>01558         TRUSTED
<a name="l01559"></a>01559       };
<a name="l01560"></a>01560 
<a name="l01568"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b">01568</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b" title="call phase for the UDR interface">CallPhase</a>
<a name="l01569"></a>01569       {
<a name="l01570"></a>01570         UNKNOWN_CALL_PHASE          = 0,
<a name="l01571"></a>01571 
<a name="l01572"></a>01572         <span class="comment">// some pseudo-phases for the initial setup,</span>
<a name="l01573"></a>01573         <span class="comment">// not involving a UDRInvocationInfo object</span>
<a name="l01574"></a>01574         DEBUG_LOOP_CALL             = 4,
<a name="l01575"></a>01575         GET_ROUTINE_CALL            = 6,
<a name="l01576"></a>01576 
<a name="l01577"></a>01577         <span class="comment">// following are the actual call phases</span>
<a name="l01578"></a>01578         COMPILER_INITIAL_CALL       = 10,
<a name="l01579"></a>01579         COMPILER_DATAFLOW_CALL      = 20,
<a name="l01580"></a>01580         COMPILER_CONSTRAINTS_CALL   = 30,
<a name="l01581"></a>01581         COMPILER_STATISTICS_CALL    = 40,
<a name="l01582"></a>01582         COMPILER_DOP_CALL           = 50,
<a name="l01583"></a>01583         COMPILER_PLAN_CALL          = 60,
<a name="l01584"></a>01584         COMPILER_COMPLETION_CALL    = 70,
<a name="l01585"></a>01585         RUNTIME_WORK_CALL           = 110
<a name="l01586"></a>01586       };
<a name="l01587"></a>01587 
<a name="l01596"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361e">01596</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361e" title="values used for the UDR_DEBUG_FLAGS CQD">DebugFlags</a>
<a name="l01597"></a>01597       {
<a name="l01598"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaf44eafcbd8faccd8c85725874380eaf3">01598</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaf44eafcbd8faccd8c85725874380eaf3" title="1">DEBUG_INITIAL_RUN_TIME_LOOP_ONE</a>   = 0x00000001, 
<a name="l01599"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaffb9263b7a7c4d84b7e9af75f133b71a">01599</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaffb9263b7a7c4d84b7e9af75f133b71a" title="2">DEBUG_INITIAL_RUN_TIME_LOOP_ALL</a>   = 0x00000002, 
<a name="l01600"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea8e0cbb0080167b8735e1bc6ea6dd884f">01600</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea8e0cbb0080167b8735e1bc6ea6dd884f" title="4">DEBUG_INITIAL_COMPILE_TIME_LOOP</a>   = 0x00000004, 
<a name="l01601"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea630511f4c789eb3f7ba27ee5a4e864df">01601</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea630511f4c789eb3f7ba27ee5a4e864df" title="8">DEBUG_LOAD_MSG_LOOP</a>               = 0x00000008, 
<a name="l01602"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea5ee57a5f93619e910047e53cf5d1c9f0">01602</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea5ee57a5f93619e910047e53cf5d1c9f0" title="16">TRACE_ROWS</a>                        = 0x00000010, 
<a name="l01603"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea208a06e955c534acf2f2a4ff987bbd3c">01603</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea208a06e955c534acf2f2a4ff987bbd3c" title="32">PRINT_INVOCATION_INFO_INITIAL</a>     = 0x00000020, 
<a name="l01604"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaa3b4433164dcdb59c782867e25ec55cc">01604</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaa3b4433164dcdb59c782867e25ec55cc" title="64">PRINT_INVOCATION_INFO_END_COMPILE</a> = 0x00000040, 
<a name="l01605"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea6b367b009643535ace09423ae914e549">01605</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361ea6b367b009643535ace09423ae914e549" title="128">PRINT_INVOCATION_INFO_AT_RUN_TIME</a> = 0x00000080, 
<a name="l01606"></a><a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaf15016f709fd2be11ebeae7a97ef3470">01606</a>         <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab6b34603b9cad093f862ff650aeb361eaf15016f709fd2be11ebeae7a97ef3470" title="256">VALIDATE_WALLS</a>                    = 0x00000100  
<a name="l01607"></a>01607       };
<a name="l01608"></a>01608 
<a name="l01609"></a>01609     <span class="comment">// there are no public constructors for this class</span>
<a name="l01610"></a>01610 
<a name="l01611"></a>01611     <span class="comment">// const Functions for use by UDR writer, both at compile and at run time</span>
<a name="l01612"></a>01612     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a4fef718438b8d0f73c72960850e12f76">getUDRName</a>() <span class="keyword">const</span>;
<a name="l01613"></a>01613     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a6c037fb917b24c9140966100583c4ddf">getNumTableInputs</a>() <span class="keyword">const</span>;
<a name="l01614"></a>01614     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a8e8246083a145bfcf9771a915df70d2a">in</a>(<span class="keywordtype">int</span> childNum = 0) <span class="keyword">const</span>;
<a name="l01615"></a>01615     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#abccd0a12bb9f275f9b51d0b147bc238b">out</a>() <span class="keyword">const</span>;
<a name="l01616"></a>01616     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b" title="call phase for the UDR interface">CallPhase</a> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a05e6cfdfe6353ff71bd9d788f2ad90a7">getCallPhase</a>() <span class="keyword">const</span>;
<a name="l01617"></a>01617     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a4260a3d72362f6ef3fa058b7f4fc733e">getCurrentUser</a>() <span class="keyword">const</span>;
<a name="l01618"></a>01618     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#af6fe6a390c721a579d39f132b053e01e">getSessionUser</a>() <span class="keyword">const</span>;
<a name="l01619"></a>01619     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a526a57461a964c44fa08333cfbe3e403">getCurrentRole</a>() <span class="keyword">const</span>;
<a name="l01620"></a>01620     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a5742766a2b3800bd06bbe486cafa0e0b">SQLAccessType</a> getSQLAccessType() <span class="keyword">const</span>;
<a name="l01621"></a>01621     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a0dd8a181e55e743bb9ec39b747491e1e">SQLTransactionType</a> getSQLTransactionType() <span class="keyword">const</span>;
<a name="l01622"></a>01622     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a7c38879b0268e3b20bf2cced998d93f2">SQLRightsType</a> getSQLRights() <span class="keyword">const</span>;
<a name="l01623"></a>01623     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab8f0c182949b86f0eb01e7dd5533496d">IsolationType</a> getIsolationType() <span class="keyword">const</span>;
<a name="l01624"></a>01624     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a44281bb80ce0ddfc220f830603184bb6">isCompileTime</a>() <span class="keyword">const</span>;
<a name="l01625"></a>01625     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ae6454d983c0e219533fbedce92fdbb7e">isRunTime</a>() <span class="keyword">const</span>;
<a name="l01626"></a>01626     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#abc2ae451673901fadcc4d468903dcb90">getDebugFlags</a>() <span class="keyword">const</span>;
<a name="l01627"></a>01627     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234" title="Type of a TMUDF: Generic, mapper or reducer.">FuncType</a> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a7ffc96813d89aaf680b69b17a9fd4efa">getFuncType</a>() <span class="keyword">const</span>;
<a name="l01628"></a>01628     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ParameterListInfo.html" title="Describes the parameters of a UDR.">ParameterListInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a47c62b14380293ed12a99c23650938f8">getFormalParameters</a>() <span class="keyword">const</span>;
<a name="l01629"></a>01629     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ParameterListInfo.html" title="Describes the parameters of a UDR.">ParameterListInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab311a6d5798704f36afc52a3603eeec9">par</a>() <span class="keyword">const</span>; <span class="comment">// actual parameters</span>
<a name="l01630"></a>01630     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#abb1c5cae5193c0c736d534943ff6fd0a">getNumPredicates</a>() <span class="keyword">const</span>;
<a name="l01631"></a>01631     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1PredicateInfo.html" title="A predicate to be evaluated on a table.">PredicateInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a862b4fc9c3041408c18b72fa456bc37b">getPredicate</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01632"></a>01632     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#af56ae6e3b533811727c01ac0dd373b2a">isAComparisonPredicate</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01633"></a>01633     <span class="keyword">const</span> <a class="code" href="classtmudr_1_1ComparisonPredicateInfo.html" title="A comparison predicate to be evaluated on a table.">ComparisonPredicateInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ac7b36f50b9bc332b532325ef6d74fef0">getComparisonPredicate</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l01634"></a>01634 
<a name="l01635"></a>01635     <span class="comment">// Functions available at compile time only</span>
<a name="l01636"></a>01636 
<a name="l01637"></a>01637     <span class="comment">// use the next six only from describeParamsAndColumns()</span>
<a name="l01638"></a>01638     <a class="code" href="classtmudr_1_1TableInfo.html" title="Describes a table-valued input or a table-valued output.">TableInfo</a> &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#abccd0a12bb9f275f9b51d0b147bc238b">out</a>();
<a name="l01639"></a>01639     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ae8ec687491875c1086660a237d936019">addFormalParameter</a>(<span class="keyword">const</span> <a class="code" href="classtmudr_1_1ColumnInfo.html" title="Describes a column in an input or output table or a parameter.">ColumnInfo</a> &amp;param);
<a name="l01640"></a>01640     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#af9fad0a00cccb776398083cf35aec4f9">setFuncType</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234" title="Type of a TMUDF: Generic, mapper or reducer.">FuncType</a> type);
<a name="l01641"></a>01641     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ae7274d94c79a78a4cd0976cbe572ab26">addPassThruColumns</a>(<span class="keywordtype">int</span> inputTableNum = 0,
<a name="l01642"></a>01642                             <span class="keywordtype">int</span> startInputColNum = 0,
<a name="l01643"></a>01643                             <span class="keywordtype">int</span> endInputColNum = -1);
<a name="l01644"></a>01644     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ac2e13c982996e5e32f67cd157efce2fd">setChildPartitioning</a>(<span class="keywordtype">int</span> inputTableNum,
<a name="l01645"></a>01645                               <span class="keyword">const</span> <a class="code" href="classtmudr_1_1PartitionInfo.html" title="Partitioning key of an input table or result table.">PartitionInfo</a> &amp;partInfo);
<a name="l01646"></a>01646     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a9cf945532b68164df02ed59e56993dec">setChildOrdering</a>(<span class="keywordtype">int</span> inputTableNum,
<a name="l01647"></a>01647                           <span class="keyword">const</span> <a class="code" href="classtmudr_1_1OrderInfo.html" title="Ordering of a table by some ascending or descending columns.">OrderInfo</a> &amp;orderInfo);
<a name="l01648"></a>01648 
<a name="l01649"></a>01649     <span class="comment">// use only from describeDataflowAndPredicates()</span>
<a name="l01650"></a>01650     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a165ce1b6a1e8430cc9ff8bc069c52403">setChildColumnUsage</a>(<span class="keywordtype">int</span> inputTableNum,
<a name="l01651"></a>01651                              <span class="keywordtype">int</span> inputColumnNum,
<a name="l01652"></a>01652                              <a class="code" href="classtmudr_1_1ColumnInfo.html#acd91858abc45772d55f3310d789271b4" title="Info on whether a table-valued input or output column is used.">ColumnInfo::ColumnUseCode</a> usage);
<a name="l01653"></a>01653     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17aa99c78b92c21bb7f165d6a525ee45">setUnusedPassthruColumns</a>();
<a name="l01654"></a>01654     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a31ac324ce7cb12163be24b79eec1b416">setPredicateEvaluationCode</a>(<span class="keywordtype">int</span> predicateNum,
<a name="l01655"></a>01655                                     <a class="code" href="classtmudr_1_1PredicateInfo.html#aa2a53f51db2e8e56cf79fe8c28e54232" title="Info on whether a table-valued input or output column is used.">PredicateInfo::EvaluationCode</a> c);
<a name="l01656"></a>01656     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a08078fda7b63cea5e2f02546e04a9e1c">pushPredicatesOnPassthruColumns</a>(<span class="keywordtype">int</span> startPredNum = 0,
<a name="l01657"></a>01657                                          <span class="keywordtype">int</span> lastPredNum = -1);
<a name="l01658"></a>01658 
<a name="l01659"></a>01659     <span class="comment">// use only from describeConstraints()</span>
<a name="l01660"></a>01660     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ac3c17d8d9c6efd94471179a052ca7ab7">propagateConstraintsFor1To1UDFs</a>(<span class="keywordtype">bool</span> exactlyOneRowPerInput);
<a name="l01661"></a>01661 
<a name="l01662"></a>01662     <span class="comment">// use anytime during compilation</span>
<a name="l01663"></a>01663     <a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html" title="Compile time data owned by the UDR writer.">UDRWriterCompileTimeData</a> *<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a0f52f99de8bd5d268ad54b397037aaa4">getUDRWriterCompileTimeData</a>();
<a name="l01664"></a>01664     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a62d8e083376c816dc66d1d7447869bee">setUDRWriterCompileTimeData</a>(<a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html" title="Compile time data owned by the UDR writer.">UDRWriterCompileTimeData</a> *compileTimeData);
<a name="l01665"></a>01665 
<a name="l01666"></a>01666     <span class="comment">// Functions available at run-time only</span>
<a name="l01667"></a>01667     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a7af8ac157fb75e4d426e6243bb8a4e1e">copyPassThruData</a>(<span class="keywordtype">int</span> inputTableNum = 0,
<a name="l01668"></a>01668                           <span class="keywordtype">int</span> startInputColNum = 0,
<a name="l01669"></a>01669                           <span class="keywordtype">int</span> endInputColNum = -1);
<a name="l01670"></a>01670     <span class="keyword">const</span> std::string &amp;<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ae743d98454eaf28158a14f7ff4e22908">getQueryId</a>() <span class="keyword">const</span>;
<a name="l01671"></a>01671     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a0fa7dbaa5449564569ac90579da6466f">getNumParallelInstances</a>() <span class="keyword">const</span>;
<a name="l01672"></a>01672     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a8c4c9625a85c42534bb63324f78f1ba5">getMyInstanceNum</a>() <span class="keyword">const</span>;  <span class="comment">// 0 ... getNumInstances()-1</span>
<a name="l01673"></a>01673 
<a name="l01674"></a>01674     <span class="comment">// Functions for debugging</span>
<a name="l01675"></a>01675     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a5f39c23ff94d54317d11cf87e4cc1102">print</a>();
<a name="l01676"></a>01676 
<a name="l01677"></a>01677     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01678"></a>01678     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01679"></a>01679     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01680"></a>01680     <span class="keywordtype">void</span> serializeObj(Bytes outputBuffer, <span class="keywordtype">int</span> outputBufferLength);
<a name="l01681"></a>01681     <span class="keywordtype">void</span> deserializeObj(ConstBytes inputBuffer, <span class="keywordtype">int</span> inputBufferLength);
<a name="l01682"></a>01682     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01683"></a>01683                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01684"></a>01684     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01685"></a>01685                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01686"></a>01686     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *callPhaseToString(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b" title="call phase for the UDR interface">CallPhase</a> c);
<a name="l01687"></a>01687 
<a name="l01688"></a>01688   <span class="keyword">private</span>:
<a name="l01689"></a>01689 
<a name="l01690"></a>01690     UDRInvocationInfo();
<a name="l01691"></a>01691     ~UDRInvocationInfo();
<a name="l01692"></a>01692     ParameterListInfo &amp;nonConstFormalParameters();
<a name="l01693"></a>01693     ParameterListInfo &amp;nonConstActualParameters();
<a name="l01694"></a>01694     <span class="keywordtype">void</span> validateCallPhase(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b" title="call phase for the UDR interface">CallPhase</a> start,
<a name="l01695"></a>01695                            <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b" title="call phase for the UDR interface">CallPhase</a> end,
<a name="l01696"></a>01696                            <span class="keyword">const</span> <span class="keywordtype">char</span> *callee) <span class="keyword">const</span>;
<a name="l01697"></a>01697     <span class="keywordtype">void</span> setQueryId(<span class="keyword">const</span> <span class="keywordtype">char</span> *qid);
<a name="l01698"></a>01698     <span class="keywordtype">void</span> setTotalNumInstances(<span class="keywordtype">int</span> i);
<a name="l01699"></a>01699     <span class="keywordtype">void</span> setMyInstanceNum(<span class="keywordtype">int</span> i);
<a name="l01700"></a>01700 
<a name="l01701"></a>01701     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_INPUT_TABLES = 2;
<a name="l01702"></a>01702 
<a name="l01703"></a>01703     std::string name_;
<a name="l01704"></a>01704     <span class="keywordtype">int</span> numTableInputs_;
<a name="l01705"></a>01705     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a17775d1990732a2ac52bcc528c76e40b" title="call phase for the UDR interface">CallPhase</a> callPhase_;
<a name="l01706"></a>01706     std::string currentUser_;
<a name="l01707"></a>01707     std::string sessionUser_;
<a name="l01708"></a>01708     std::string currentRole_;
<a name="l01709"></a>01709     std::string queryId_;
<a name="l01710"></a>01710     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a5742766a2b3800bd06bbe486cafa0e0b">SQLAccessType</a> sqlAccessType_;
<a name="l01711"></a>01711     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a0dd8a181e55e743bb9ec39b747491e1e">SQLTransactionType</a> sqlTransactionType_;
<a name="l01712"></a>01712     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#a7c38879b0268e3b20bf2cced998d93f2">SQLRightsType</a> sqlRights_;
<a name="l01713"></a>01713     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#ab8f0c182949b86f0eb01e7dd5533496d">IsolationType</a> isolationType_;
<a name="l01714"></a>01714     TableInfo inputTableInfo_[MAX_INPUT_TABLES];
<a name="l01715"></a>01715     TableInfo outputTableInfo_;
<a name="l01716"></a>01716     <span class="keywordtype">int</span> debugFlags_;
<a name="l01717"></a>01717     <a class="code" href="classtmudr_1_1UDRInvocationInfo.html#aa1a5e7aa734a95a5478db3d785508234" title="Type of a TMUDF: Generic, mapper or reducer.">FuncType</a> funcType_;
<a name="l01718"></a>01718     ParameterListInfo formalParameterInfo_;
<a name="l01719"></a>01719     ParameterListInfo actualParameterInfo_;
<a name="l01720"></a>01720     std::vector&lt;PredicateInfo *&gt; predicates_;
<a name="l01721"></a>01721     UDRWriterCompileTimeData *udrWriterCompileTimeData_;
<a name="l01722"></a>01722     <span class="keywordtype">int</span> totalNumInstances_;
<a name="l01723"></a>01723     <span class="keywordtype">int</span> myInstanceNum_;
<a name="l01724"></a>01724 
<a name="l01725"></a>01725     <span class="keyword">friend</span> <span class="keyword">class </span>UDRPlanInfo;
<a name="l01726"></a>01726     <span class="comment">// these classes are used internally by Trafodion</span>
<a name="l01727"></a>01727     <span class="keyword">friend</span> class ::TMUDFInternalSetup;
<a name="l01728"></a>01728     <span class="keyword">friend</span> class ::SPInfo;
<a name="l01729"></a>01729     <span class="keyword">friend</span> class ::LmLanguageManagerC;
<a name="l01730"></a>01730     <span class="keyword">friend</span> class ::LmLanguageManagerJava;
<a name="l01731"></a>01731     <span class="keyword">friend</span> class ::LmRoutineCppObj;
<a name="l01732"></a>01732   };
<a name="l01733"></a>01733 
<a name="l01742"></a><a class="code" href="classtmudr_1_1UDRPlanInfo.html">01742</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1UDRPlanInfo.html" title="Describes the query plan used for a UDR invocation.">UDRPlanInfo</a> : <span class="keyword">public</span> TMUDRSerializableObject
<a name="l01743"></a>01743   {
<a name="l01744"></a>01744   <span class="keyword">public</span>:
<a name="l01751"></a><a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19">01751</a>     <span class="keyword">enum</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19" title="Special degrees of parallelism.">SpecialDegreeOfParallelism</a>
<a name="l01752"></a>01752       {
<a name="l01753"></a><a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19ad2a2dc16a27a8570ae00f68ea6126f42">01753</a>         <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19ad2a2dc16a27a8570ae00f68ea6126f42" title="Optimizer decides DoP.">ANY_DEGREE_OF_PARALLELISM</a>     =  0, 
<a name="l01754"></a><a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19a1e33ba932a38eb933afc90e4963ec9b5">01754</a>         <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19a1e33ba932a38eb933afc90e4963ec9b5">DEFAULT_DEGREE_OF_PARALLELISM</a> = -1, 
<a name="l01755"></a>01755 
<a name="l01756"></a><a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19a521c09523839fae6c72ccc9519ca971a">01756</a>         <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19a521c09523839fae6c72ccc9519ca971a">MAX_DEGREE_OF_PARALLELISM</a>     = -2, 
<a name="l01757"></a>01757 
<a name="l01758"></a>01758 
<a name="l01759"></a><a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19afb640839034de9ed8b6fffe6c172f06d">01759</a>         <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac65dd2b236e8f48c00c9b69efed78d19afb640839034de9ed8b6fffe6c172f06d">ONE_INSTANCE_PER_NODE</a>         = -3  
<a name="l01760"></a>01760 
<a name="l01761"></a>01761 
<a name="l01762"></a>01762 
<a name="l01763"></a>01763       };
<a name="l01764"></a>01764 
<a name="l01765"></a>01765     <span class="comment">// Functions for use by UDR writer, both at compile and at run time</span>
<a name="l01766"></a>01766     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac8f8d0cba4c48f24f787f036019dc120">getPlanNum</a>() <span class="keyword">const</span>;
<a name="l01767"></a>01767     <span class="keywordtype">long</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#a6617be36d31c31dd96685b8fe07f0efa">getCostPerRow</a>() <span class="keyword">const</span>;
<a name="l01768"></a>01768     <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac856607de40f3bd6813adbd6a0da7ee4">getDesiredDegreeOfParallelism</a>() <span class="keyword">const</span>;
<a name="l01769"></a>01769 
<a name="l01770"></a>01770     <span class="comment">// Functions available at compile time only</span>
<a name="l01771"></a>01771     <span class="comment">// call this from describePlanProperties() or earlier</span>
<a name="l01772"></a>01772     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#a2432b7bbc63ed88aaffc3f4d3a5c4a30">setCostPerRow</a>(<span class="keywordtype">long</span> nanoseconds);
<a name="l01773"></a>01773 
<a name="l01774"></a>01774     <span class="comment">// call this from describeDesiredDegreeOfParallelism() or earlier</span>
<a name="l01775"></a>01775     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#a2c04c1d3f7f28bd58b163d85deb02d3d">setDesiredDegreeOfParallelism</a>(<span class="keywordtype">int</span> dop);
<a name="l01776"></a>01776 
<a name="l01777"></a>01777     <a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html" title="Compile time data owned by the UDR writer.">UDRWriterCompileTimeData</a> *<a class="code" href="classtmudr_1_1UDRPlanInfo.html#a73487ea5456ec8a53d52a66813589976">getUDRWriterCompileTimeData</a>();
<a name="l01778"></a>01778     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#a9699b7abd3e69cb9ea15bc999f424cc0">setUDRWriterCompileTimeData</a>(<a class="code" href="classtmudr_1_1UDRWriterCompileTimeData.html" title="Compile time data owned by the UDR writer.">UDRWriterCompileTimeData</a> *compileTimeData);
<a name="l01779"></a>01779 
<a name="l01780"></a>01780     <span class="comment">// call this from completeDescription() or earlier</span>
<a name="l01781"></a>01781     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#ac95f99f26ba311d31875a87c1bc75672">addPlanData</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *planData,
<a name="l01782"></a>01782                      <span class="keywordtype">int</span> planDataLength);
<a name="l01783"></a>01783     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classtmudr_1_1UDRPlanInfo.html#a57aadeeb3f77fd63b7b9059b84043a2c">getPlanData</a>(<span class="keywordtype">int</span> &amp;planDataLength);
<a name="l01784"></a>01784 
<a name="l01785"></a>01785     <span class="comment">// Functions for debugging</span>
<a name="l01786"></a>01786     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDRPlanInfo.html#af33a0f91b8d1c791f72515cb246af21d">print</a>();
<a name="l01787"></a>01787 
<a name="l01788"></a>01788     <span class="comment">// UDR writers can ignore these methods</span>
<a name="l01789"></a>01789     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01790"></a>01790     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serializedLength();
<a name="l01791"></a>01791     <span class="keywordtype">void</span> serializeObj(Bytes outputBuffer, <span class="keywordtype">int</span> outputBufferLength);
<a name="l01792"></a>01792     <span class="keywordtype">void</span> deserializeObj(ConstBytes inputBuffer, <span class="keywordtype">int</span> inputBufferLength);
<a name="l01793"></a>01793     <span class="keyword">virtual</span> <span class="keywordtype">int</span> serialize(Bytes &amp;outputBuffer,
<a name="l01794"></a>01794                           <span class="keywordtype">int</span> &amp;outputBufferLength);
<a name="l01795"></a>01795     <span class="keyword">virtual</span> <span class="keywordtype">int</span> deserialize(ConstBytes &amp;inputBuffer,
<a name="l01796"></a>01796                             <span class="keywordtype">int</span> &amp;inputBufferLength);
<a name="l01797"></a>01797 
<a name="l01798"></a>01798   <span class="keyword">private</span>:
<a name="l01799"></a>01799 
<a name="l01800"></a>01800     UDRPlanInfo(UDRInvocationInfo *invocationInfo, <span class="keywordtype">int</span> planNum);
<a name="l01801"></a>01801     ~UDRPlanInfo();
<a name="l01802"></a>01802 
<a name="l01803"></a>01803     UDRInvocationInfo *invocationInfo_;
<a name="l01804"></a>01804     <span class="keywordtype">int</span> planNum_;
<a name="l01805"></a>01805     <span class="keywordtype">long</span> costPerRow_;
<a name="l01806"></a>01806     <span class="keywordtype">int</span> degreeOfParallelism_;
<a name="l01807"></a>01807     UDRWriterCompileTimeData *udrWriterCompileTimeData_;
<a name="l01808"></a>01808     <span class="keyword">const</span> <span class="keywordtype">char</span> *planData_;
<a name="l01809"></a>01809     <span class="keywordtype">int</span> planDataLength_;
<a name="l01810"></a>01810 
<a name="l01811"></a>01811     <span class="comment">// class is used internally by Trafodion</span>
<a name="l01812"></a>01812     <span class="keyword">friend</span> class ::TMUDFInternalSetup;
<a name="l01813"></a>01813     <span class="keyword">friend</span> class ::SPInfo;
<a name="l01814"></a>01814     <span class="keyword">friend</span> class ::LmLanguageManagerC;
<a name="l01815"></a>01815     <span class="keyword">friend</span> class ::LmRoutineCppObj;
<a name="l01816"></a>01816   };
<a name="l01817"></a>01817 
<a name="l01889"></a><a class="code" href="classtmudr_1_1UDR.html">01889</a>   <span class="keyword">class </span><a class="code" href="classtmudr_1_1UDR.html" title="This class represents the code associated with a UDR.">UDR</a>
<a name="l01890"></a>01890   {
<a name="l01891"></a>01891   <span class="keyword">public</span>:
<a name="l01892"></a>01892 
<a name="l01893"></a>01893     <a class="code" href="classtmudr_1_1UDR.html#aaa1036a39bef55877bc953b02f9c58da">UDR</a>();
<a name="l01894"></a>01894     <span class="keyword">virtual</span> <a class="code" href="classtmudr_1_1UDR.html#a73ff8a47de39f0482c6a4178e3b82e36">~UDR</a>();
<a name="l01895"></a>01895 
<a name="l01896"></a>01896     <span class="comment">// compile time interface for UDRs</span>
<a name="l01897"></a>01897     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a795387c54b27b667ae73b668f606595c">describeParamsAndColumns</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info);
<a name="l01898"></a>01898     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#abbfc60e9c860f3c02dc4262ffc1c9939">describeDataflowAndPredicates</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info);
<a name="l01899"></a>01899     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a83262ec6806c3811bf55b1704fea599d">describeConstraints</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info);
<a name="l01900"></a>01900     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a371a0c6d1dce6857f10b171099d67fdf">describeStatistics</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info);
<a name="l01901"></a>01901     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#ae7bc614d12d011fc5f6d799abcc91935">describeDesiredDegreeOfParallelism</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info,
<a name="l01902"></a>01902                                                     <a class="code" href="classtmudr_1_1UDRPlanInfo.html" title="Describes the query plan used for a UDR invocation.">UDRPlanInfo</a> &amp;plan);
<a name="l01903"></a>01903     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a925cb57fc5adfa0c2d1ff90217a90e14">describePlanProperties</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info,
<a name="l01904"></a>01904                                         <a class="code" href="classtmudr_1_1UDRPlanInfo.html" title="Describes the query plan used for a UDR invocation.">UDRPlanInfo</a> &amp;plan);
<a name="l01905"></a>01905     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a36eaba4ea82ca80b2f3c25c7bdee871f">completeDescription</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info,
<a name="l01906"></a>01906                                      <a class="code" href="classtmudr_1_1UDRPlanInfo.html" title="Describes the query plan used for a UDR invocation.">UDRPlanInfo</a> &amp;plan);
<a name="l01907"></a>01907 
<a name="l01908"></a>01908     <span class="comment">// run time interface for TMUDFs and scalar UDFs (once supported)</span>
<a name="l01909"></a>01909     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#aac3ba2f5c48f11b7913d460cb22e3dc1">processData</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info,
<a name="l01910"></a>01910                              <a class="code" href="classtmudr_1_1UDRPlanInfo.html" title="Describes the query plan used for a UDR invocation.">UDRPlanInfo</a> &amp;plan);
<a name="l01911"></a>01911 
<a name="l01912"></a>01912     <span class="comment">// methods to be called from the run time interface for UDRs:</span>
<a name="l01913"></a>01913 
<a name="l01914"></a>01914     <span class="comment">// read a row from an input table</span>
<a name="l01915"></a>01915     <span class="keywordtype">bool</span> <a class="code" href="classtmudr_1_1UDR.html#a335761df017a0569aa0b90e942c2f056">getNextRow</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info, <span class="keywordtype">int</span> tableIndex = 0);
<a name="l01916"></a>01916     <span class="comment">// produce a result row</span>
<a name="l01917"></a>01917     <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a671ad46ac7fef32fc5ce1c6971f7f807">emitRow</a>(<a class="code" href="classtmudr_1_1UDRInvocationInfo.html" title="Describes an invocation of a UDR.">UDRInvocationInfo</a> &amp;info);
<a name="l01918"></a>01918 
<a name="l01919"></a>01919     <span class="comment">// methods for debugging</span>
<a name="l01920"></a>01920     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classtmudr_1_1UDR.html#a9a0d3501ad5d27d90ca85a8791c87409">debugLoop</a>();
<a name="l01921"></a>01921 
<a name="l01922"></a>01922     <span class="comment">// methods for versioning of this interface</span>
<a name="l01923"></a>01923     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> getCurrentVersion() { <span class="keywordflow">return</span> 1; }
<a name="l01924"></a>01924     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classtmudr_1_1UDR.html#ab0ca9f90d691f298b56ec11807326394">getFeaturesSupportedByUDF</a>();
<a name="l01925"></a>01925 
<a name="l01926"></a>01926     <span class="keyword">friend</span> class ::LmRoutineCppObj;
<a name="l01927"></a>01927 
<a name="l01928"></a>01928   <span class="keyword">private</span>:
<a name="l01929"></a>01929 
<a name="l01930"></a>01930     SQLUDR_GetNextRow   getNextRowPtr_;
<a name="l01931"></a>01931     SQLUDR_EmitRow      emitRowPtr_;
<a name="l01932"></a>01932 
<a name="l01933"></a>01933   };
<a name="l01934"></a>01934 
<a name="l01938"></a>01938   <span class="keyword">typedef</span> <a class="code" href="classtmudr_1_1UDR.html" title="This class represents the code associated with a UDR.">UDR</a> * (*CreateInterfaceObjectFunc) ();
<a name="l01939"></a>01939 
<a name="l01940"></a>01940 } <span class="comment">// end of namespace tmudr</span>
<a name="l01941"></a>01941 
<a name="l01942"></a>01942 <span class="comment">// end of C++ interface for UDRs</span>
<a name="l01943"></a>01943 <span class="preprocessor">#endif</span>
<a name="l01944"></a>01944 <span class="preprocessor"></span>
<a name="l01945"></a>01945 <span class="comment">// SQLUDR_H</span>
<a name="l01946"></a>01946 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 2 May 2020 for tmudr by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
